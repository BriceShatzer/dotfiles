{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"Patreon Login hint","options":{"check_for_updates":false,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.patreon.com/login*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1644009739094,"data":{}},"enabled":true,"position":1,"uuid":"1919631a-1628-4a50-945f-abf8e9be9a31","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBQYXRyZW9uIExvZ2luIGhpbnQKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vcGF0cmVvbi5jb20uCi8vIEB2ZXJzaW9uICAgICAgMC4xCi8vIEBkZXNjcmlwdGlvbiAgcmVtaW5kaW5nIG1lIHRvIHVzZSBHb29nbGUgU1NPCi8vIEBhdXRob3IgICAgICAgaHR0cDovL2dpdGh1Yi5jb20vQnJpY2VTaGF0emVyCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly93d3cucGF0cmVvbi5jb20vbG9naW4qCi8vIEBpY29uICAgICAgICAgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zMi9mYXZpY29ucz9zej02NCZkb21haW49cGF0cmVvbi5jb20KLy8gQGdyYW50ICAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgbGV0IGdvb2dsZUJ1dHRvbiA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uJykpLmZpbHRlcihlbD0+IGVsLmlubmVyVGV4dCA9PT0iQ29udGludWUgd2l0aCBHb29nbGUiKVswXTsKICAgIGdvb2dsZUJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAieWVsbG93Igp9KSgpOw=="},{"name":"Link to Save Page","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*.archive.org/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1644009982741,"data":{}},"enabled":true,"position":2,"uuid":"59c5ba8c-e5e4-43b1-a8a6-8037d0316906","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBMaW5rIHRvIFNhdmUgUGFnZQovLyBAbmFtZXNwYWNlICAgIGh0dHBzOi8vYXJjaGl2ZS5vcmcKLy8gQHZlcnNpb24gICAgICAwLjIKLy8gQGRlc2NyaXB0aW9uICBBZGQgYSBsaW5rIHRvIHNhdmUgYSB3ZWJwYWdlCi8vIEBhdXRob3IgICAgICAgaHR0cDovL2JyaWNlc2hhdHplci5jb20KLy8gQG1hdGNoICAgICAgICAqLmFyY2hpdmUub3JnLyoKLy8gQGdyYW50ICAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uKCkgewogICAgbGV0IHRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9wbmF2JykuZmlyc3RFbGVtZW50Q2hpbGQuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcudG9wbmF2JykucXVlcnlTZWxlY3RvcigncHJpbWFyeS1uYXYnKS5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy51cGxvYWQnKTsKICAgIGxldCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOwoKICAgIGxpbmsuc3R5bGUuZmxvYXQgPSAncmlnaHQnOwogICAgbGluay5zdHlsZS5tYXJnaW5Ub3AgPSAnMXJlbSc7CiAgICBsaW5rLnN0eWxlLnRyYW5zaXRpb24gPSAnZmlsdGVyIDI1MG1zJzsKICAgIGxpbmsuaW5uZXJIVE1MID0gIjxhIGhyZWY9J2h0dHBzOi8vd2ViLmFyY2hpdmUub3JnL3NhdmUvJz48aW1nIHNyYz0naHR0cHM6Ly9hcmNoaXZlLm9yZy93ZWIvaW1hZ2VzL2ljb25fc2F2ZVBhZ2UucG5nJyBhbHQ9J3NhdmUgYSB3ZWJwYWdlJyBzdHlsZT0naGVpZ2h0OjMwcHg7JyAvPjwvYT4iOwogICAgbGluay5vbm1vdXNlb3ZlciA9ICgpPT57bGluay5zdHlsZS5maWx0ZXIgPSAnaHVlLXJvdGF0ZSgxODBkZWcpJ30KICAgIGxpbmsub25tb3VzZW91dCA9ICgpPT57bGluay5zdHlsZS5maWx0ZXIgPSAnJ307CiAgICB0YXJnZXRFbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLGxpbmspOwoKfSkoKTsK"},{"name":"Universal GitHub Tasks","options":{"check_for_updates":false,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":["https://github.paypal.com/gist/*"],"orig_includes":[],"orig_matches":["https://github.com/*","https://github.paypal.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1644010020971,"data":{}},"enabled":true,"position":3,"uuid":"58d95d15-0ee0-448c-bfdc-ace49341c6b6","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBVbml2ZXJzYWwgR2l0SHViIFRhc2tzCi8vIEBuYW1lc3BhY2UgICAgZ2l0aHViLmNvbQovLyBAdmVyc2lvbiAgICAgIDAuNwovLyBAZGVzY3JpcHRpb24gIE1ha2luZyBHaXRIdWIgd29yayBtb3JlIHRvIG15IGxpa2luZy4uLgovLyBAYXV0aG9yICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9CcmljZVNoYXR6ZXIKLy8gQG1hdGNoICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vKgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vZ2l0aHViLnBheXBhbC5jb20vKgovLyBAZXhjbHVkZSAgICAgIGh0dHBzOi8vZ2l0aHViLnBheXBhbC5jb20vZ2lzdC8qCi8vIEBpY29uICAgICAgICAgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zMi9mYXZpY29ucz9zej02NCZkb21haW49Z2l0aHViLmNvbQovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CgogICAgbGV0IHN0YXRlX2NvbW1pdFRpbWVzQ29udmVydGVkID0gZmFsc2U7CiAgICBsZXQgc3RhdGVfZGlmZkNvbGxhcHNlckNyZWF0ZWQgPSBmYWxzZTsKICAgIGxldCBzdGF0ZV91c2VybmFtZXNDb252ZXJ0ZWQgPSBmYWxzZTsKICAgIGxldCBzdGF0ZV9naXRodWJJc1dpZGUgPSBmYWxzZQoKICAgIG1ha2VHaXRodWJXaWRlKCk7CgogICAgd2luZG93Lm9ubG9hZCA9ICgpID0+IHVwZGF0ZVN0YXRlKCk7CgogICAgLy9leHRlbmRpbmcgaGlzdG9yeS5wdXNoU3RhdGUgdG8gcnVuIHVwZGF0ZVN0YXRlLCBiZWNhdXNlIGdpdGh1YiBkb2Vzbid0IGZpcmUgYSBwb3BzdGF0ZSBpbiBtYW55IGluc3RhbmNlcwogLyoKICAgIChmdW5jdGlvbihoaXN0b3J5KXsKICAgIHZhciBwdXNoU3RhdGUgPSBoaXN0b3J5LnB1c2hTdGF0ZTsKICAgIGhpc3RvcnkucHVzaFN0YXRlID0gZnVuY3Rpb24oc3RhdGUpIHsKICAgICAgICBpZiAodHlwZW9mIGhpc3Rvcnkub25wdXNoc3RhdGUgPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgICBoaXN0b3J5Lm9ucHVzaHN0YXRlKHtzdGF0ZTogc3RhdGV9KTsKICAgICAgICB9CiAgICAgICAgY29uc29sZS5sb2coJ2hpc3Rvcnkub25wdXNoc3RhdGUgZmlyZWQnKTsKICAgICAgICB1cGRhdGVTdGF0ZSgpOwogICAgICAgIHJldHVybiBwdXNoU3RhdGUuYXBwbHkoaGlzdG9yeSwgYXJndW1lbnRzKTsKICAgIH0KICAgIH0pKHdpbmRvdy5oaXN0b3J5KTsKKi8KCiAgICBmdW5jdGlvbiB1cGRhdGVTdGF0ZSgpIHsKICAgICAgICBzdGF0ZV9jb21taXRUaW1lc0NvbnZlcnRlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3JlbGF0aXZlLXRpbWUnKS5sZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlOwogICAgICAgIHN0YXRlX2RpZmZDb2xsYXBzZXJDcmVhdGVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpZmZDb2xsYXBzZXInKSA/IHRydWUgOiBmYWxzZTsKICAgICAgICBzdGF0ZV91c2VybmFtZXNDb252ZXJ0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdyZWFsLW5hbWUnKS5sZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlOwogICAgICAgIHN0YXRlX2dpdGh1YklzV2lkZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWtlR2l0aHViV2lkZScpID8gdHJ1ZSA6IGZhbHNlOwoKICAgICAgICBjb25zb2xlLmxvZygnc3RhdGVzIHVwZGF0ZWQ6Jyk7CiAgICAgICAgLy8gY29uc29sZS5sb2coJ2NvbW1pdFRpbWVzQ29udmVydGVkLScrc3RhdGVfY29tbWl0VGltZXNDb252ZXJ0ZWQpOwogICAgICAgIC8vIGNvbnNvbGUubG9nKCdkaWZmQ29sbGFwc2VyQ3JlYXRlZC0nK3N0YXRlX2RpZmZDb2xsYXBzZXJDcmVhdGVkKTsKICAgICAgICAvLyBjb25zb2xlLmxvZygndXNlcm5hbWVzQ29udmVydGVkLScrc3RhdGVfdXNlcm5hbWVzQ29udmVydGVkKTsKICAgICAgICAvLyBjb25zb2xlLmxvZygnZ2l0aHViSXNXaWRlLScrc3RhdGVfZ2l0aHViSXNXaWRlKTsKCiAgICAgICAgY3JlYXRlRGlmZkNvbGxhcHNlcigpOwogICAgICAgIGNvbnZlcnRDb21taXRUaW1lcygpOwogICAgICAgIC8vY29udmVydFVzZXJuYW1lc1RvUmVhbE5hbWVzKCk7CiAgICAgICAgaWYgKHN0YXRlX2dpdGh1YklzV2lkZSAhPT0gdHJ1ZSl7bWFrZUdpdGh1YldpZGUoKTt9CiAgICAgICAgYXR0YWNoQ3VzdG9tQ29udHJvbHNUb1BhZ2UoKTsKICAgIH0KLyog4LKgX+CyoAogICAgZnVuY3Rpb24gc2hvd1dpa2lCdXR0b25zKCkgewogICAgICAgIGxldCB3aWtpQnV0dG9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnb2xsdW0tZWRpdG9yLWZ1bmN0aW9uLWJ1dHRvbnMnKTsKICAgICAgICBpZih3aWtpQnV0dG9ucyl7d2lraUJ1dHRvbnMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7fQogICAgfQoqLwoKCi8qIEF0dGFjaCBjdXN0b20gY29udHJvbHMgdG8gdGhlIHBhZ2UgKi8KICAgIGZ1bmN0aW9uIGF0dGFjaEN1c3RvbUNvbnRyb2xzVG9QYWdlKCl7CiAgICAgICAgbGV0IG9sZENvbnRyb2xzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1c3RvbUNvbnRyb2xzJyk7CiAgICAgICAgbGV0IHJlcG9QYXRoOwoKICAgICAgICBpZihkb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoIltwcm9wZXJ0eT0nb2c6dXJsJ10iKS5jb250ZW50KXsKICAgICAgICAgICAgcmVwb1BhdGggPSBkb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoIltwcm9wZXJ0eT0nb2c6dXJsJ10iKS5jb250ZW50OwogICAgICAgIH0KCiAgICAgICAgaWYgKG9sZENvbnRyb2xzKXsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChvbGRDb250cm9scykKICAgICAgICB9CiAgICAgICAgbGV0IGNvbnRyb2xQb3NpdGlvbmluZ1RvcCA9ICc4MHB4JyAvL2hlaWdodCBvZiBoZWFkZXIgKyBzdGFuZGFyZCBwYWRkaW5nIG9uIGVsZW1lbnRzIHwgNjRweCArIDE2cHgKICAgICAgICBsZXQgc3R5bGVzID0gYAogICAgICAgICAgICAuc2VhcmNoVG9nZ2xlQ29udHJvbCB7CiAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiAycHggMCAwIDJweDsKICAgICAgICAgICAgfQogICAgICAgICAgICAuc2VhcmNoVG9nZ2xlQ29udHJvbDpob3ZlciB7CiAgICAgICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgI3NlYXJjaENvbnRyb2xzIHsKICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1mbGV4OwogICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogd2lkdGggMzAwbXMgZWFzZTsKICAgICAgICAgICAgICAgIHdpZHRoOiAwOwogICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgfQogICAgICAgICAgICAjc2VhcmNoQ29udHJvbHMub3BlbiB7CiAgICAgICAgICAgICAgICB3aWR0aDogMTYwcHg7CiAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgICAgICB0b3A6IC0yM3B4OwogICAgICAgICAgICAgICAgbGVmdDogMjRweDsKICAgICAgICAgICAgfQogICAgICAgICAgICAjc2VhcmNoQ29udHJvbHMgaW5wdXRbdHlwZT0ndGV4dCddewogICAgICAgICAgICAgICAgd2lkdGg6IDEyMHB4OwogICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAwLjVyZW07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgI2N1c3RvbUNvbnRyb2xzIHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uOmZpeGVkOwogICAgICAgICAgICAgICAgdG9wOiAke2NvbnRyb2xQb3NpdGlvbmluZ1RvcH07CiAgICAgICAgICAgICAgICBsZWZ0OiAxNnB4OwogICAgICAgICAgICAgICAgei1pbmRleDogMTk5OwogICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgIH0KICAgICAgICBgCgogICAgICAgIGlmKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udHJvbFN0eWxlcycpKSB7CiAgICAgICAgICAgIGF0dGFjaEFTdHlsZVNoZWV0KHN0eWxlcywnY29udHJvbFN0eWxlcycpOwogICAgICAgIH0KCgogICAgLyogQ3JlYXRlIFRhbXBlcm1vbmtleSBSZS1ydW4gQnV0dG9uICovCiAgICAgICAgbGV0IHJlUnVuQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CiAgICAgICAgcmVSdW5CdXR0b24uc2V0QXR0cmlidXRlKCdzcmMnLCdodHRwczovL2NhbW8uZ2l0aHVidXNlcmNvbnRlbnQuY29tLzk5MTliYzdlMjIwZjY5MTljZGFjMmQ5ZWMwMGI5OWNhYTk3OTFjM2IvNjg3NDc0NzAzYTJmMmY2OTJlNjk2ZDY3NzU3MjJlNjM2ZjZkMmYzNTM5NTY2NzY2NDU3YTJlNzA2ZTY3Jyk7CiAgICAgICAgcmVSdW5CdXR0b24uc2V0QXR0cmlidXRlKCdzdHlsZScsJ2N1cnNvcjpwb2ludGVyO21heC13aWR0aDoxNnB4Jyk7CiAgICAgICAgcmVSdW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgICAgICAgIHVwZGF0ZVN0YXRlKCk7CiAgICAgICAgfSk7CiAgICAgICAgLy9kb2N1bWVudC5ib2R5LmFwcGVuZChyZVJ1bkJ1dHRvbik7CgogICAgLyogQ3JlYXRlIFJlcG8gU2VhcmNoIENvbnRyb2xzICovCiAgICAgICAgbGV0IHNlYXJjaEZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsKICAgICAgICBzZWFyY2hGaWVsZC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCd0ZXh0Jyk7CiAgICAgICAgc2VhcmNoRmllbGQuc2V0QXR0cmlidXRlKCdpZCcsJ3NlYXJjaEZpZWxkJyk7CgogICAgICAgbGV0IHNlYXJjaEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogICAgICAgIHNlYXJjaEJ1dHRvbi50ZXh0Q29udGVudCA9ICfCuyc7CiAgICAgICAgc2VhcmNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICAgICAgICBsZXQgc2VhcmNoVmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoRmllbGQnKS52YWx1ZTsKICAgICAgICAgICAgc2VhcmNoVmFsdWUgPSBzZWFyY2hWYWx1ZS5zcGxpdCgnICcpLmpvaW4oJysnKTsKCiAgICAgICAgICAgIGxldCBzZWFyY2hVcmwgPSByZXBvUGF0aCArICcvc2VhcmNoP3E9JyArIHNlYXJjaFZhbHVlOwoKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gc2VhcmNoVXJsOwogICAgICAgIH0pOwoKICAgICAgICBsZXQgc2VhcmNoVG9nZ2xlQ29udHJvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICBzZWFyY2hUb2dnbGVDb250cm9sLnRleHRDb250ZW50ID0gJ/CflI0nOwogICAgICAgIHNlYXJjaFRvZ2dsZUNvbnRyb2wuY2xhc3NMaXN0LmFkZCgnc2VhcmNoVG9nZ2xlQ29udHJvbCcpOwogICAgICAgIHNlYXJjaFRvZ2dsZUNvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgICAgICAgIGxldCBjb250cm9scyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2hDb250cm9scycpOwogICAgICAgICAgICBjb250cm9scy5jbGFzc0xpc3QudG9nZ2xlKCdvcGVuJyk7CiAgICAgICAgICAgIGlmKGNvbnRyb2xzLmNsYXNzTGlzdC5jb250YWlucygnb3BlbicpKXsKICAgICAgICAgICAgICAgIHNlYXJjaEZpZWxkLmZvY3VzKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgfSk7CgogICAgICAgIGxldCBzZWFyY2hDb250cm9scyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIHNlYXJjaENvbnRyb2xzLnNldEF0dHJpYnV0ZSgnaWQnLCdzZWFyY2hDb250cm9scycpOwogICAgICAgIHNlYXJjaENvbnRyb2xzLmFwcGVuZChzZWFyY2hGaWVsZCk7CiAgICAgICAgc2VhcmNoQ29udHJvbHMuYXBwZW5kKHNlYXJjaEJ1dHRvbik7CgogICAgICAgIGxldCBjdXN0b21Db250cm9scyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGN1c3RvbUNvbnRyb2xzLnNldEF0dHJpYnV0ZSgnaWQnLCAnY3VzdG9tQ29udHJvbHMnKTsKICAgICAgICBjdXN0b21Db250cm9scy5hcHBlbmQocmVSdW5CdXR0b24pOwogICAgICAgIGlmIChyZXBvUGF0aCkgewogICAgICAgICAgICBjdXN0b21Db250cm9scy5hcHBlbmQoc2VhcmNoVG9nZ2xlQ29udHJvbCk7CiAgICAgICAgICAgIGN1c3RvbUNvbnRyb2xzLmFwcGVuZChzZWFyY2hDb250cm9scyk7CiAgICAgICAgfQoKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZChjdXN0b21Db250cm9scyk7CiAgICB9CgovKiBDb252ZXJ0IENvbW1pdCBUaW1lcyBUbyBOb24tcmVhbHRpdmUgKi8KICAgIGZ1bmN0aW9uIGNvbnZlcnRDb21taXRUaW1lcygpIHsKICAgICAgICBpZihzdGF0ZV9jb21taXRUaW1lc0NvbnZlcnRlZCA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoY29udmVydENvbW1pdFRpbWVzLCA3NTApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHN0YXRlX2NvbW1pdFRpbWVzQ29udmVydGVkID0gdHJ1ZTsKICAgICAgICAgICAgbGV0IGNvbW1pdFRpbWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgncmVsYXRpdmUtdGltZScpOwogICAgICAgICAgICBjb21taXRUaW1lcy5mb3JFYWNoKChlbCk9PnsKICAgICAgICAgICAgICAgIGxldCBmdWxsVGltZSA9IGVsLnRpdGxlOwogICAgICAgICAgICAgICAgZWwuaW5uZXJIVE1MID0gJzxzdHJvbmc+JytmdWxsVGltZSsnPC9zdHJvbmc+JzsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQoKLyogQ3JlYXRlIERpZmYgQ29sbGFwc2VyICovCiAgICBmdW5jdGlvbiBjcmVhdGVEaWZmQ29sbGFwc2VyKCkgewogICAgICAgIGlmKHN0YXRlX2RpZmZDb2xsYXBzZXJDcmVhdGVkID09PSBmYWxzZSAmJiBnZXRDb2xsYXBzaWJsZUVsZW1lbnRzKCkubGVuZ3RoKSB7CiAgICAgICAgLy8gICAgIHdpbmRvdy5zZXRUaW1lb3V0KGNyZWF0ZURpZmZDb2xsYXBzZXIsIDc1MCk7CiAgICAgICAgLy8gfSBlbHNlIHsKICAgICAgICAgICAgc3RhdGVfZGlmZkNvbGxhcHNlckNyZWF0ZWQgPSB0cnVlOwogICAgICAgICAgICBsZXQgc3RhbGVFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNkaWZmQ29sbGFwc2VyJyk7CiAgICAgICAgICAgIGlmKHN0YWxlRWxlbWVudHMubGVuZ3RoPjApewogICAgICAgICAgICAgICAgc3RhbGVFbGVtZW50cy5mb3JFYWNoKChlbCk9PnsKICAgICAgICAgICAgICAgICAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpOwogICAgICAgICAgICAvL2xldCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogICAgICAgICAgICAvL2xldCBzdHlsZVRleHQgPSAncG9zaXRpb246Zml4ZWQ7bGVmdDoycmVtO2JvdHRvbTo1MHZoO3otaW5kZXg6NTA7bWluLXdpZHRoOjFyZW07JwoKICAgICAgICAgICAgZWwuc3JjID0gImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS93ZWJkb2cvb2N0aWNvbnMtcG5nL21hc3Rlci9ibGFjay9mb2xkLnBuZyI7CiAgICAgICAgICAgIGVsLmFsdCA9IkNvbGxhcHNlL0V4cGFuZCBEaWZmcyI7CiAgICAgICAgICAgIGVsLmlkICA9ICJkaWZmQ29sbGFwc2VyIjsKICAgICAgICAgICAgbGV0IHN0eWxlVGV4dCA9IGAKICAgICAgICAgICAgICAgIHBvc2l0aW9uOmZpeGVkOwogICAgICAgICAgICAgICAgbGVmdDouNXJlbTsKICAgICAgICAgICAgICAgIGJvdHRvbTo1MHZoOwogICAgICAgICAgICAgICAgbWF4LXdpZHRoOjFyZW07CiAgICAgICAgICAgICAgICB6LWluZGV4OjUwOwogICAgICAgICAgICAgICAgY3Vyc29yOnBvaW50ZXIKICAgICAgICAgICAgICAgIGA7CgogICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJyxzdHlsZVRleHQpOwogICAgICAgICAgICAvL2VsCiAgICAgICAgICAgIC8vZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdidG4nKTsKICAgICAgICAgICAgLy9lbC5pbm5lckhUTUwgPSAnQ29sbGFwc2UgRGlmZnMnOwogICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCk9PnsKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNldFN0YXR1cyhzdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdHVzJyxzdGF0dXMpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmKGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zdGF0dXMnKSA9PT0gJ0NvbGxhcHNlJyl7CiAgICAgICAgICAgICAgICAgICAgY29sbGFwc2VEaWZmcygpOwogICAgICAgICAgICAgICAgICAgIHNldFN0YXR1cygnRXhwYW5kJyk7CiAgICAgICAgICAgICAgICAgICAgLy9lbC5pbm5lckhUTUwgPSAnRXhwYW5kIERpZmZzJzsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZXhwYW5kRGlmZnMoKTsKICAgICAgICAgICAgICAgICAgICBzZXRTdGF0dXMoJ0NvbGxhcHNlJyk7CiAgICAgICAgICAgICAgICAgICAgLy9lbC5pbm5lckhUTUwgPSAnQ29sbGFwc2UgRGlmZnMnOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKGVsKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGV4cGFuZERpZmZzKCkgewogICAgICAgICAgICBsZXQgY29sbGFwc2VkRWxlbWVudHMgPSBnZXRDb2xsYXBzaWJsZUVsZW1lbnRzKCkuZmlsdGVyKGVsPT4gZWwuZ2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJyk9PT0nZmFsc2UnKTsKICAgICAgICAgICAgY2xpY2tFbGVtZW50cyhjb2xsYXBzZWRFbGVtZW50cyk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBjb2xsYXBzZURpZmZzKCkgewogICAgICAgICAgICBsZXQgZXhwYW5kZWRFbGVtZW50cyA9IGdldENvbGxhcHNpYmxlRWxlbWVudHMoKS5maWx0ZXIoZWw9PiBlbC5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKT09PSd0cnVlJyk7CiAgICAgICAgICAgIGNsaWNrRWxlbWVudHMoZXhwYW5kZWRFbGVtZW50cyk7CiAgICAgICAgfQoKCgogICAgICAgIGZ1bmN0aW9uIGNsaWNrRWxlbWVudHMoZWxlbWVudHNBcnIpIHsKICAgICAgICAgICAgZWxlbWVudHNBcnIuZm9yRWFjaCgoZWwpPT57CiAgICAgICAgICAgICAgICBlbC5jbGljaygpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldENvbGxhcHNpYmxlRWxlbWVudHMoKSB7CiAgICAgICAgICAgIGxldCBhbGxFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvblthcmlhLWxhYmVsPSJUb2dnbGUgZGlmZiBjb250ZW50cyJdJyk7CiAgICAgICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKGFsbEVsZW1lbnRzKTsKICAgICAgICB9CiAgICB9CgovKiBXaWRlLUdpdGh1YiAqLwovLyBzb3VyY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS94dGhleGRlci93aWRlLWdpdGh1YgogICAgZnVuY3Rpb24gbWFrZUdpdGh1YldpZGUoKSB7CiAgICAgICAgdmFyIHN0eWxlU2hlZXQgPSBgCmJvZHk6bm90KC53Z2gtZGlzYWJsZWQpIC5hcHBsaWNhdGlvbi1tYWluIC5jb250YWluZXIgewogIHdpZHRoOiBhdXRvICFpbXBvcnRhbnQ7CiAgcGFkZGluZy1sZWZ0OiAxNnB4ICFpbXBvcnRhbnQ7CiAgcGFkZGluZy1yaWdodDogMTZweCAhaW1wb3J0YW50OwogIG1hcmdpbi1sZWZ0OiAwcHggIWltcG9ydGFudDsKICBtaW4td2lkdGg6IDk4MHB4Owp9CmJvZHk6bm90KC53Z2gtZGlzYWJsZWQpIC5hcHBsaWNhdGlvbi1tYWluIC5jb250YWluZXItbGcsCmJvZHk6bm90KC53Z2gtZGlzYWJsZWQpIC5mb290ZXIuY29udGFpbmVyLWxnIHsKICBtYXgtd2lkdGg6IG5vbmUgIWltcG9ydGFudDsKICBtYXJnaW4tbGVmdDogMHB4ICFpbXBvcnRhbnQ7Cn0KCi8qIE5ldyBnaXRodWIgZGVzaWduICovCmJvZHk6bm90KC53Z2gtZGlzYWJsZWQpIC5hcHBsaWNhdGlvbi1tYWluIC5jb250YWluZXIteGwgewogIG1heC13aWR0aDogbm9uZSAhaW1wb3J0YW50Owp9CgovKiBGbG9hdGluZyBQUiB0b29sYmFyICovCmJvZHk6bm90KC53Z2gtZGlzYWJsZWQpIC5wci10b29sYmFyIHsKICBtYXJnaW4tbGVmdDogLTE2cHggIWltcG9ydGFudDsKICBtYXJnaW4tcmlnaHQ6IC0xNnB4ICFpbXBvcnRhbnQ7CiAgcGFkZGluZy1sZWZ0OiAxNnB4ICFpbXBvcnRhbnQ7CiAgcGFkZGluZy1yaWdodDogMTZweCAhaW1wb3J0YW50Owp9CgovKiBSZXBvc2l0b3J5IElzc3VlcyAqLwpib2R5Om5vdCgud2doLWRpc2FibGVkKSAjanMtcmVwby1wamF4LWNvbnRhaW5lciAucmVwb3NpdG9yeS1jb250ZW50IC5kaXNjdXNzaW9uLXRpbWVsaW5lIHsgIC8qIElzc3VlIGJvZHkgKi8KICB3aWR0aDogY2FsYygxMDAlIC0gMjIwcHgpOwp9CmJvZHk6bm90KC53Z2gtZGlzYWJsZWQpIC5yZXBvc2l0b3J5LWNvbnRlbnQgLnRpbWVsaW5lLW5ldy1jb21tZW50IHsgLyogTmV3IElzc3VlIC8gaXNzdWUgY29tbWVudCBmb3JtICovCiAgbWF4LXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7Cn0KYm9keTpub3QoLndnaC1kaXNhYmxlZCkgLnJlcG9zaXRvcnktY29udGVudCAuaW5saW5lLWNvbW1lbnRzIC5jb21tZW50LWhvbGRlciwgLyogRGlmZiAvIGNvZGUgY29tbWVudHMgKi8KYm9keTpub3QoLndnaC1kaXNhYmxlZCkgLnJlcG9zaXRvcnktY29udGVudCAuaW5saW5lLWNvbW1lbnRzIC5pbmxpbmUtY29tbWVudC1mb3JtLWNvbnRhaW5lciwKYm9keTpub3QoLndnaC1kaXNhYmxlZCkgLnJlcG9zaXRvcnktY29udGVudCAuaW5saW5lLWNvbW1lbnRzIC5pbmxpbmUtY29tbWVudC1mb3JtLApib2R5Om5vdCgud2doLWRpc2FibGVkKSAucmVwb3NpdG9yeS1jb250ZW50ICNhbGxfY29tbWl0X2NvbW1lbnRzIC5jb21taXQtY29tbWVudHMtaGVhZGluZywKYm9keTpub3QoLndnaC1kaXNhYmxlZCkgLnJlcG9zaXRvcnktY29udGVudCAjYWxsX2NvbW1pdF9jb21tZW50cyAuY29tbWVudC1ob2xkZXIgewogIG1heC13aWR0aDogaW5oZXJpdCAhaW1wb3J0YW50Owp9CgovKiBSZXBvc2l0b3J5IGdyYXBoIHBhZ2UgKi8KYm9keTpub3QoLndnaC1kaXNhYmxlZCkgLnJlcG9zaXRvcnktY29udGVudCAuY2FwcGVkLWNhcmQtY29udGVudCB7IC8qIEdyYXBoIGNhcmRzIG9uIGNvbnRyaWJ1dG9ycyAvIGdyYXBoIGxpc3QgKi8KICB3aWR0aDogMTAwJSAhaW1wb3J0YW50Owp9CgovKiBHaXN0cyAqLwpib2R5Om5vdCgud2doLWRpc2FibGVkKSAuZ2lzdC1jb250ZW50LXdyYXBwZXIgLmNvbnRhaW5lciB7CiAgd2lkdGg6IGF1dG8gIWltcG9ydGFudDsKICBtYXJnaW4tbGVmdDogMjBweCAhaW1wb3J0YW50OwogIG1hcmdpbi1yaWdodDogMjBweCAhaW1wb3J0YW50OwogIG1pbi13aWR0aDogOTgwcHg7Cn0KYm9keTpub3QoLndnaC1kaXNhYmxlZCkgLmdpc3QtY29udGVudC13cmFwcGVyIC5jb250YWluZXItbGcgewogIG1heC13aWR0aDogbm9uZSAhaW1wb3J0YW50Owp9CmJvZHk6bm90KC53Z2gtZGlzYWJsZWQpIC5naXN0LWNvbnRlbnQtd3JhcHBlciAuY29udGFpbmVyLWxnIC5oLWNhcmQgewogIHdpZHRoOiAyNTNweCAhaW1wb3J0YW50Owp9CiAgICAgICAgYDsKICAgICAgICBpZighZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21ha2VHaXRodWJXaWRlJykpewogICAgICAgICAgICBhdHRhY2hBU3R5bGVTaGVldChzdHlsZVNoZWV0LCdtYWtlR2l0aHViV2lkZScpOwogICAgICAgIH0KICAgIH0KCgovKiBVdGlsaXR5IGZ1bmN0aW9uIHdoaWNoIHdyaXRlcyBhIHN0eWxlc2hlZXQgdG8gdGhlIHBhZ2UqLwogICAgZnVuY3Rpb24gYXR0YWNoQVN0eWxlU2hlZXQoc3R5bGVTaGVldCxpZCkgewogICAgICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgICAgICAgICBpZihpZCl7IHMuaWQgPSBpZDt9CiAgICAgICAgICAgICAgcy50eXBlID0gInRleHQvY3NzIjsKICAgICAgICAgICAgICBzLmlubmVySFRNTCA9IHN0eWxlU2hlZXQ7CiAgICAgICAgICAgICAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChzKTsKICAgICAgICAgICAgfSkoKTsKICAgIH0KCi8qIENvbnZlcnQgVXNlcm5hbWVzIHRvIFJlYWwgTmFtZXMgPyhXSVApPyAqLwogICAgZnVuY3Rpb24gY29udmVydFVzZXJuYW1lc1RvUmVhbE5hbWVzKCkgewogICAgICAgIGNvbnN0IHVzZXJuYW1lcyA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYXV0aG9yJyldOwoKICAgICAgICB1c2VybmFtZXMuZm9yRWFjaCggKGVsZW1lbnQpID0+IHsKICAgICAgICAgICAgbGV0IHVybCA9ICdodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzLycrZWxlbWVudC5pbm5lclRleHQ7CiAgICAgICAgICAgIGxldCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgICAgIHJlcXVlc3Qub3BlbignR0VUJywgdXJsLCB0cnVlKTsKCiAgICAgICAgICAgIHJlcXVlc3Qub25sb2FkID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDQwMCkgewogICAgICAgICAgICAgICAgLy8gU3VjY2VzcyEKICAgICAgICAgICAgICAgIHZhciByZXNwID0gdGhpcy5yZXNwb25zZTsKICAgICAgICAgICAgICAgIHZhciB1c2VyT2JqID0gSlNPTi5wYXJzZShyZXNwKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVzZXJPYmopOwoKICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coIHJlc3ApOwoKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvb2tzIGxpa2UgdGhlcmUgd2FzIGEgcHJvYmxlbS4gU3RhdHVzIENvZGU6ICcgKyB0aGlzLnN0YXR1cyk7CiAgICAgICAgICAgICAgICAvLyBXZSByZWFjaGVkIG91ciB0YXJnZXQgc2VydmVyLCBidXQgaXQgcmV0dXJuZWQgYW4gZXJyb3IKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CgogICAgICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbihlcnIpIHsKICAgICAgICAgICAgICAvLyBUaGVyZSB3YXMgYSBjb25uZWN0aW9uIGVycm9yIG9mIHNvbWUgc29ydAogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGZXRjaCBFcnJvciA6LVMnLCBlcnIpOwoKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmVxdWVzdC5zZW5kKCk7CgoKICAgICAgICAgICAgLy8tLSB0cnlpbmcgdG8gdXNlIGZldGNoCi8qCiAgICAgICAgICAgIGxldCBuZXdOYW1lID0gZmV0Y2godXJsKQogICAgICAgICAgICAgICAgLnRoZW4oIChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTG9va3MgbGlrZSB0aGVyZSB3YXMgYSBwcm9ibGVtLiBTdGF0dXMgQ29kZTogJyArIHJlc3BvbnNlLnN0YXR1cyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnRXJyb3JJblJldHJpdmlhbCc7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5qc29uKCkudGhlbihmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEubmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycikgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGZXRjaCBFcnJvciA6LVMnLCBlcnIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiAnRXJyb3JJblJldHJpdmlhbCc7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKG5ld05hbWUgIT09ICdFcnJvckluUmV0cml2aWFsJykgewogICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lclRleHQgPSBuZXdOYW1lOwogICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdyZWFsLW5hbWUnKTsKICAgICAgICAgICAgfQoqLwoKICAgICAgICB9KTsgLy8gdXNlcm5hbWVzLmZvckVhY2goKSBlbmQKICAgIH0KCgoKCgogICAgLy8gLS0gYWR2ZW50dXJlcyBpbiBtdXRhdGlvbk9ic2VydmluZwovKgogICAgbGV0IHRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdltyb2xlPSJtYWluIl0nKTsKICAgIGxldCBjb25maWcgPSB7IGF0dHJpYnV0ZXM6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9OwogICAgbGV0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24obXV0YXRpb25zKSB7CiAgICAgICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24obXV0YXRpb24pIHsKICAgICAgICAgICAgY29uc29sZS5sb2cobXV0YXRpb24udHlwZSk7CiAgICAgICAgfSk7CiAgICB9KTsKICAgIG9ic2VydmVyLm9ic2VydmUodGFyZ2V0LCBjb25maWcpOwoqLwoKCgogICAgLy8gLS0gc2V0dGluZyBzdGF0ZSBhdCBhbiBpbnRlcnZhbAovKiAgICB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKICAgICAgICBjb25zb2xlLmxvZygnc3RhdGVfY29tbWl0VGltZXNDb252ZXJ0ZWQ6ICcgKyBzdGF0ZV9jb21taXRUaW1lc0NvbnZlcnRlZCk7CiAgICAgICAgY29uc29sZS5sb2coJ3N0YXRlX2RpZmZDb2xsYXBzZXJDcmVhdGVkOiAnICsgc3RhdGVfZGlmZkNvbGxhcHNlckNyZWF0ZWQpOwogICAgfSwgMzAwMCk7CiovCgoKfSkoKTs="},{"name":"Add Advance Search Link to Google.com","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.google.com/"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1644010042296,"data":{}},"enabled":true,"position":4,"uuid":"99d4e5b3-7c93-44b8-8885-20bb6fa8051c","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBBZGQgQWR2YW5jZSBTZWFyY2ggTGluayB0byBHb29nbGUuY29tCi8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly9nb29nbGUuY29tCi8vIEB2ZXJzaW9uICAgICAgMC4xCi8vIEBkZXNjcmlwdGlvbiAgdHJ5IHRvIHRha2Ugb3ZlciB0aGUgd29ybGQhCi8vIEBhdXRob3IgICAgICAgZ2l0aHViLmNvbS9icmljZXNoYXR6ZXIKLy8gQG1hdGNoICAgICAgICBodHRwczovL3d3dy5nb29nbGUuY29tLwovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CgogICAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbdmFsdWU9Ikdvb2dsZSBTZWFyY2giXScpWzFdOwogICAgbGV0IGNvcHkgPSBlbC5jbG9uZU5vZGUodHJ1ZSk7CgogICAgY29weS52YWx1ZSA9ICdBZHZhbmNlIFNlYXJjaCc7CiAgICBjb3B5Lm5hbWUgPSAnJzsKICAgIGNvcHkuZGF0YXNldC52ZWQgPSAnJzsKICAgIGNvcHkuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ0FkdmFuY2UgU2VhcmNoJyk7CgogICAgZWwucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZChjb3B5KTsKCiAgICBjb3B5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge3dpbmRvdy5sb2NhdGlvbiA9ICdodHRwczovL3d3dy5nb29nbGUuY29tL2FkdmFuY2VkX3NlYXJjaCd9KTsKfSkoKTs="},{"name":"NYT Paywall Avoider","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.nytimes.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1644010078298,"data":{}},"enabled":true,"position":5,"uuid":"0a0ff265-7ec4-4014-9d1a-903c9f8381cf","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBOWVQgUGF5d2FsbCBBdm9pZGVyCi8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly93d3cubnl0aW1lcy5jb20vCi8vIEB2ZXJzaW9uICAgICAgMC4xCi8vIEBkZXNjcmlwdGlvbiAgYXR0ZW1wdHMgdG8gbnVrZSB0aGVpciBwYXl3YWxsCi8vIEBhdXRob3IgICAgICAgaHR0cDovL2dpdGh1Yi5jb20vQnJpY2VTaGF0emVyCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly93d3cubnl0aW1lcy5jb20vKgovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB3aW5kb3cub25sb2FkID0gKCkgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdmaXJlZCcpOwogICAgICAgICAgICBjb25zdCBibG9ja2FnZTEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhbmRhbG9uZS1mb290ZXInKTsKICAgICAgICAgICAgY29uc3QgYmxvY2thZ2UyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhdGV3YXktY29udGVudCcpOwogICAgICAgICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NpdGUtY29udGVudCcpOwogICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXBwID4gZGl2ID4gZGl2OmZpcnN0LW9mLXR5cGUnKTsKCiAgICAgICAgICAgIGlmIChibG9ja2FnZTEpe2Jsb2NrYWdlMS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO30KICAgICAgICAgICAgaWYgKGJsb2NrYWdlMil7YmxvY2thZ2UyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7fQogICAgICAgICAgICBpZiAoY29udGVudCl7Y29udGVudC5zdHlsZS5wb3NpdGlvbiA9ICdzdGF0aWMnO30KICAgICAgICAgICAgaWYgKGNvbnRhaW5lcil7CiAgICAgICAgICAgICAgICBjb250YWluZXIuc3R5bGUucG9zaXRpb24gPSdzdGF0aWMnOwogICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gJ2F1dG8nOwogICAgICAgICAgICAgICAgY29udGFpbmVyLmNoaWxkcmVuLmZvckVhY2goKGVsKT0+ewogICAgICAgICAgICAgICAgICAgIGlmIChlbC5jaGlsZHJlbi5sZW5ndGg9PT0wKXtlbC5zdHlsZS5kaXNwbGF5PSdub25lJ30KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgfQp9KSgpOwo="},{"name":"Assassinate Ad Block Blockers","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://*.businessinsider.com/*","*://*.cnbc.com/*","*://*.cnn.com/*","*://*.commonsensemedia.org/*","*://*.curbed.com/*","*://*.dailymail.co.uk/*","*://*.eurogamer.net/*","*://*.fastcompany.com/*","*://*.forbes.com/*","*://*.fortune.com/*","*://*.foxbusiness.com/*","*://*.foxnews.com/*","*://freecoursesonline.me/*","*://*.gamesradar.com/*","*://gamerant.com/*","*://*.theguardian.com/*","*://*.houstonchronicle.com/*","*://*.inc.com/*","*://*.inquirer.com/*","*://*.insider.com/*","*://*.kbb.com/*","*://*.latimes.com/*","*://*.makeuseof.com/*","*://markets.businessinsider.com/*","*://www.medpagetoday.com/*","*://www.mercurynews.com/*","*://metro.co.uk/*","*://www.miamiherald.com/*","*://*.nationalgeographic.com/*","*://*.nbcnews.com/*","*://*.nymag.com/*","*://*.nytimes.com/*","*://*.reuters.com/*","*://*.rottentomatoes.com/*","*://*.sfchronicle.com/*","*://*.sfgate.com/*","*://*.thecut.com/*","*://*.thedailybeast.com/*","*://*.vg247.com/*","*://*.vulture.com/*","*://*.washingtonpost.com/*","*://*.wired.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1644010525353,"data":{}},"enabled":true,"position":6,"file_url":"https://greasyfork.org/scripts/382482-assassinate-ad-block-blockers/code/Assassinate%20Ad%20Block%20Blockers.user.js","uuid":"127e44a2-eaec-4430-946a-212673ffa0e0","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBBc3Nhc3NpbmF0ZSBBZCBCbG9jayBCbG9ja2VycwovLyBAbmFtZXNwYWNlICAgIGh0dHA6Ly90YW1wZXJtb25rZXkubmV0LwovLyBAdmVyc2lvbiAgICAgIDIuNzMKLy8gQGRlc2NyaXB0aW9uICBZb3Uga25vdyB0aG9zZSBhbm5veWluZyBjb250ZW50IGJsb2NrZXJzIHRoYXQgZGVtYW5kIHlvdSByZW1vdmUgeW91ciBBZEJsb2NrIHNvIHlvdSBjYW4gcmVhZCB0aGUgY29udGVudD8gVGhpcyBzY3JpcHQgcmVtb3ZlcyB0aGVtIGJ5IGZvcmNlLiBQbGVhc2Ugbm90ZSwgdGhpcyBpcyBub3QgYXV0b21hdGljYWxseSB1bml2ZXJzYWwgbGlrZSBBZEJsb2NrIFBsdXMuIEl0IG9wZXJhdGVzIG9uIGEgcGVyLXNpdGUgYmFzaXMgdGhhdCB0aGUgYXV0aG9yIG11c3QgYWRkLgovLyBAYXV0aG9yICAgICAgIEt4bW9kZQovLyBAcnVuLWF0ICAgICAgIGRvY3VtZW50LWlkbGUKLy8gQGxpY2Vuc2UJCSBDcmVhdGl2ZSBDb21tb25zLCBBdHRyaWJ1dGlvbi1Ob25Db21tZXJjaWFsLVNoYXJlQWxpa2UgNC4wIEludGVybmF0aW9uYWwgKENDIEJZLU5DLVNBIDQuMCkKLy8gQG1hdGNoICAgICAgICAqOi8vKi5idXNpbmVzc2luc2lkZXIuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5jbmJjLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyouY25uLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyouY29tbW9uc2Vuc2VtZWRpYS5vcmcvKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLmN1cmJlZC5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLmRhaWx5bWFpbC5jby51ay8qCi8vIEBtYXRjaCAgICAgICAgKjovLyouZXVyb2dhbWVyLm5ldC8qCi8vIEBtYXRjaCAgICAgICAgKjovLyouZmFzdGNvbXBhbnkuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5mb3JiZXMuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5mb3J0dW5lLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyouZm94YnVzaW5lc3MuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5mb3huZXdzLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovL2ZyZWVjb3Vyc2Vzb25saW5lLm1lLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5nYW1lc3JhZGFyLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovL2dhbWVyYW50LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyoudGhlZ3VhcmRpYW4uY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5ob3VzdG9uY2hyb25pY2xlLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyouaW5jLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyouaW5xdWlyZXIuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5pbnNpZGVyLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyoua2JiLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyoubGF0aW1lcy5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLm1ha2V1c2VvZi5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly9tYXJrZXRzLmJ1c2luZXNzaW5zaWRlci5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly93d3cubWVkcGFnZXRvZGF5LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovL3d3dy5tZXJjdXJ5bmV3cy5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly9tZXRyby5jby51ay8qCi8vIEBtYXRjaCAgICAgICAgKjovL3d3dy5taWFtaWhlcmFsZC5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLm5hdGlvbmFsZ2VvZ3JhcGhpYy5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLm5iY25ld3MuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5ueW1hZy5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLm55dGltZXMuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5yZXV0ZXJzLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyoucm90dGVudG9tYXRvZXMuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5zZmNocm9uaWNsZS5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLnNmZ2F0ZS5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLnRoZWN1dC5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLnRoZWRhaWx5YmVhc3QuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi52ZzI0Ny5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLnZ1bHR1cmUuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi53YXNoaW5ndG9ucG9zdC5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLndpcmVkLmNvbS8qCi8vID09L1VzZXJTY3JpcHQ9PQoKLyoganNoaW50IGVzdmVyc2lvbjogNiAqLwovKiBlc2xpbnQtZGlzYWJsZSAqLwoKRG9jdW1lbnRSZWFkeShFeGVjdXRlU2NyaXB0KTsKCmZ1bmN0aW9uIERvY3VtZW50UmVhZHkoZnVuYykgewoJaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09ICdsb2FkaW5nJykgRXhlY3V0ZVNjcmlwdCgpOwoJZWxzZSBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuYyk7Cn0KCi8vIFRoZSBtYWluIHNjcmlwdApmdW5jdGlvbiBFeGVjdXRlU2NyaXB0KCkgewoKCS8vIDEuIElOSVRJQUxJWkVSUwoJbGV0IGN1cnJlbnRTdGF0dXMxLCBjdXJyZW50U3RhdHVzMiwgY3VycmVudFN0YXR1czMsIGN1cnJlbnRTdGF0dXM0LAoJIAljdXJyZW50U3RhdHVzNSwgY3VycmVudFN0YXR1czYsIGN1cnJlbnRTdGF0dXM3LCBjdXJyZW50U3RhdHVzOCwKCQljdXJyZW50U3RhdHVzOSwgY3VycmVudFN0YXR1czEwOwoJbGV0IG9rYXlUb1Byb2Nlc3MgPSB0cnVlLCBpc0xvb3BlZCA9IGZhbHNlLCBkZWxldGVJZnJhbWVzID0gdHJ1ZTsKCgljb25zdCBVUkxfSE9TVE5BTUUgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7CgoJY29uc3QgQkxPQ0tFUl9ET01BSU5TID0gWwoJCXsgZG9tYWluczogWyAJJ3d3dy5jbm4uY29tJywKCQkJCQkJJ3d3dy5nYW1lc3JhZGFyLmNvbScsCgkJCQkJCSd3d3cudmcyNDcuY29tJyBdfSwgCQkJLy8gRm9yIGRvbWFpbnMgdGhhdCB1c2VzIGEgc3BlY2lmaWMgc2VydmljZSBibG9ja2luZyBBZEJsb2NrZXJzCgkJeyBkb21haW5zOiBbIAknd3d3LmJ1c2luZXNzaW5zaWRlci5jb20nLAoJCQkJCQknd3d3LmNuYmMuY29tJywKCQkJCQkJJ3d3dy5jb21tb25zZW5zZW1lZGlhLm9yZycsCgkJCQkJCSdjb29raW5nLm55dGltZXMuY29tJywKCQkJCQkJJ3d3dy5jdXJiZWQuY29tJywKCQkJCQkJJ3d3dy5kYWlseW1haWwuY28udWsnLAoJCQkJCQknZWRpdG9yaWFsLnJvdHRlbnRvbWF0b2VzLmNvbScsCgkJCQkJCSd3d3cuZXVyb2dhbWVyLm5ldCcsCgkJCQkJCSd3d3cuZmFzdGNvbXBhbnkuY29tJywKCQkJCQkJJ3d3dy5mb3JiZXMuY29tJywKCQkJCQkJJ2ZvcnR1bmUuY29tJywKCQkJCQkJJ3d3dy5mb3hidXNpbmVzcy5jb20nLAoJCQkJCQknd3d3LmZveG5ld3MuY29tJywKCQkJCQkJJ2ZyZWVjb3Vyc2Vzb25saW5lLm1lJywKCQkJCQkJJ3d3dy5mcmVzbm9iZWUuY29tJywKCQkJCQkJJ2dhbWVyYW50LmNvbScsCgkJCQkJCSd3d3cuaG91c3RvbmNocm9uaWNsZS5jb20nLAoJCQkJCQknd3d3LmluYy5jb20nLAoJCQkJCQknd3d3LmlucXVpcmVyLmNvbScsCgkJCQkJCSd3d3cuaW5zaWRlci5jb20nLAoJCQkJCQknd3d3LmtiYi5jb20nLAoJCQkJCQknd3d3LmxhdGltZXMuY29tJywKCQkJCQkJJ3d3dy5tYWtldXNlb2YuY29tJywKCQkJCQkJJ21hcmtldHMuYnVzaW5lc3NpbnNpZGVyLmNvbScsCgkJCQkJCSd3d3cubWVkcGFnZXRvZGF5LmNvbScsCgkJCQkJCSd3d3cubWVyY3VyeW5ld3MuY29tJywKCQkJCQkJJ21ldHJvLmNvLnVrJywKCQkJCQkJJ3d3dy5taWFtaWhlcmFsZC5jb20nLAoJCQkJCQknd3d3Lm5hdGlvbmFsZ2VvZ3JhcGhpYy5jb20nLAoJCQkJCQknd3d3Lm5iY25ld3MuY29tJywKCQkJCQkJJ3d3dy5uZXd5b3JrZXIuY29tJywKCQkJCQkJJ255bWFnLmNvbScsCgkJCQkJCSd3d3cubnl0aW1lcy5jb20nLAoJCQkJCQknd3d3LnJldXRlcnMuY29tJywKCQkJCQkJJ3d3dy5yb3R0ZW50b21hdG9lcy5jb20nLAoJCQkJCQknd3d3LnNlZWtpbmdhbHBoYS5jb20nLAoJCQkJCQknd3d3LnNmY2hyb25pY2xlLmNvbScsCgkJCQkJCSd3d3cuc2ZnYXRlLmNvbScsCgkJCQkJCSd3d3cudGhlY3V0LmNvbScsCgkJCQkJCSd3d3cudGhlZGFpbHliZWFzdC5jb20nLAoJCQkJCQknd3d3LnRoZWd1YXJkaWFuLmNvbScsCgkJCQkJCSd3d3cudXNhdG9kYXkuY29tJywKCQkJCQkJJ3d3dy52dWx0dXJlLmNvbScsCgkJCQkJCSd3d3cud2FzaGluZ3RvbnBvc3QuY29tJywKCQkJCQkJJ3d3dy53aXJlZC5jb20nIF19LCAJCQkJLy8gRm9yIGRvbWFpbnMgdGhhdCBmb2xsb3cgYSBub25zdGFuZGFyZCBvciBjdXN0b20gd2F5IG9mIGJsb2NraW5nIEFkQmxvY2tlcnMKCQl7IGRvbWFpbnM6IFsgCSd3d3cuZ2FtZXNyYWRhci5jb20nIF19IAkJCS8vIEZvciBkb21haW5zIHRoYXQgdHlwaWNhbGx5IGxhdW5jaCB0aGlyZC1wYXJ0eSBtb2RhbHMgZm9yIHJhbmRvbSBzdHVmZiBsaWtlIHNpZ24tdXBzCQkJCgldOwoJY29uc3QgW1NUQU5EQVJEX0RPTUFJTlMsIEFCTk9STUFMX0RPTUFJTlMsIEFVWElMSUFSWV9ET01BSU5TXSA9IEJMT0NLRVJfRE9NQUlOUy5tYXAoKHsgZG9tYWlucyB9KSA9PiBkb21haW5zKTsKCgljb25zdCBET01BSU4gPSB7CUJ1c2luZXNzSW5zaWRlcjogQUJOT1JNQUxfRE9NQUlOU1swXSwKCQkJCQkJQ05CQzogQUJOT1JNQUxfRE9NQUlOU1sxXSwKCQkJCQkJQ05OOiBTVEFOREFSRF9ET01BSU5TWzBdLAoJCQkJCQlDb21tb25TZW5zZU1lZGlhOiBBQk5PUk1BTF9ET01BSU5TWzJdLAoJCQkJCQlOZXdZb3JrVGltZXNDb29raW5nOiBBQk5PUk1BTF9ET01BSU5TWzNdLAoJCQkJCQlDdXJiZWQ6IEFCTk9STUFMX0RPTUFJTlNbNF0sCgkJCQkJCURhaWx5TWFpbDogQUJOT1JNQUxfRE9NQUlOU1s1XSwKCQkJCQkJUm90dGVuVG9tYXRvZXNFZGl0b3JpYWw6IEFCTk9STUFMX0RPTUFJTlNbNl0sCgkJCQkJCUV1cm9HYW1lcjogQUJOT1JNQUxfRE9NQUlOU1s3XSwKCQkJCQkJRmFzdENvbXBhbnk6IEFCTk9STUFMX0RPTUFJTlNbOF0sCgkJCQkJCUZvcmJlczogQUJOT1JNQUxfRE9NQUlOU1s5XSwKCQkJCQkJRm9ydHVuZTogQUJOT1JNQUxfRE9NQUlOU1sxMF0sCgkJCQkJCUZveEJ1c2luZXNzOiBBQk5PUk1BTF9ET01BSU5TWzExXSwKCQkJCQkJRm94TmV3czogQUJOT1JNQUxfRE9NQUlOU1sxMl0sCgkJCQkJCUZyZWVDb3Vyc2VzT25saW5lOiBBQk5PUk1BTF9ET01BSU5TWzEzXSwKCQkJCQkJRnJlc25vQmVlOiBBQk5PUk1BTF9ET01BSU5TWzE0XSwKCQkJCQkJR2FtZVJhbnQ6IEFCTk9STUFMX0RPTUFJTlNbMTVdLAoJCQkJCQlHYW1lc1JhZGFyOiBTVEFOREFSRF9ET01BSU5TWzFdLAoJCQkJCQlHYW1lc1JhZGFyQXV4aWxpYXJ5OiBBVVhJTElBUllfRE9NQUlOU1swXSwKCQkJCQkJSG91c3RvbkNocm9uaWNsZTogQUJOT1JNQUxfRE9NQUlOU1sxNl0sCgkJCQkJCUluYzogQUJOT1JNQUxfRE9NQUlOU1sxN10sCgkJCQkJCUlucXVpcmVyOiBBQk5PUk1BTF9ET01BSU5TWzE4XSwKCQkJCQkJSW5zaWRlcjogQUJOT1JNQUxfRE9NQUlOU1sxOV0sCgkJCQkJCUtlbGxleUJsdWVCb29rOiBBQk5PUk1BTF9ET01BSU5TWzIwXSwKCQkJCQkJTEFUaW1lczogQUJOT1JNQUxfRE9NQUlOU1syMV0sCgkJCQkJCU1ha2VVc2VPZjogQUJOT1JNQUxfRE9NQUlOU1syMl0sCgkJCQkJCUJ1c2luZXNzSW5zaWRlck1hcmtldHM6IEFCTk9STUFMX0RPTUFJTlNbMjNdLAoJCQkJCQlNZWRQYWdlVG9kYXk6IEFCTk9STUFMX0RPTUFJTlNbMjRdLAoJCQkJCQlNZXJjdXJ5TmV3czogQUJOT1JNQUxfRE9NQUlOU1syNV0sCgkJCQkJCU1ldHJvVUs6IEFCTk9STUFMX0RPTUFJTlNbMjZdLAoJCQkJCQlNaWFtaUhlcmFsZDogQUJOT1JNQUxfRE9NQUlOU1syN10sCgkJCQkJCU5hdGlvbmFsR2VvZ3JhcGhpYzogQUJOT1JNQUxfRE9NQUlOU1syOF0sCgkJCQkJCU5CQ05ld3M6IEFCTk9STUFMX0RPTUFJTlNbMjldLAoJCQkJCQlOZXdZb3JrZXI6IEFCTk9STUFMX0RPTUFJTlNbMzBdLAoJCQkJCQlOWU1hZzogQUJOT1JNQUxfRE9NQUlOU1szMV0sCgkJCQkJCU5ld1lvcmtUaW1lczogQUJOT1JNQUxfRE9NQUlOU1szMl0sCgkJCQkJCVJldXRlcnM6IEFCTk9STUFMX0RPTUFJTlNbMzNdLAoJCQkJCQlSb3R0ZW5Ub21hdG9lczogQUJOT1JNQUxfRE9NQUlOU1szNF0sCgkJCQkJCVNlZWtpbmdBbHBoYTogQUJOT1JNQUxfRE9NQUlOU1szNV0sCQoJCQkJCQlTRkNocm9uaWNsZTogQUJOT1JNQUxfRE9NQUlOU1szNl0sCgkJCQkJCVNGR2F0ZTogQUJOT1JNQUxfRE9NQUlOU1szN10sCgkJCQkJCVRoZUN1dDogQUJOT1JNQUxfRE9NQUlOU1szOF0sCgkJCQkJCVRoZURhaWx5QmVhc3Q6IEFCTk9STUFMX0RPTUFJTlNbMzldLAoJCQkJCQlUaGVHdWFyZGlhbjogQUJOT1JNQUxfRE9NQUlOU1s0MF0sCgkJCQkJCVVTQVRvZGF5OiBBQk5PUk1BTF9ET01BSU5TWzQxXSwKCQkJCQkJVkcyNDc6IFNUQU5EQVJEX0RPTUFJTlNbMl0sCgkJCQkJCVZ1bHR1cmU6IEFCTk9STUFMX0RPTUFJTlNbNDJdLAoJCQkJCQlXYXNoaW5ndG9uUG9zdDogQUJOT1JNQUxfRE9NQUlOU1s0M10sCgkJCQkJCVdpcmVkOiBBQk5PUk1BTF9ET01BSU5TWzQ0XSwKCQkJCQl9OwoKCS8vIDIuIEdFTkVSQUwgRlVOQ1RJT05TCglmdW5jdGlvbiBTcGVjaWFsTmluamFKYXZhU2NyaXB0S2lsbGVyKCkgewoJCWNvbnN0IENBTl9QUk9DRUVEID0gVVJMX0hPU1ROQU1FID09PSBET01BSU4uVGhlQ3V0IHx8IFVSTF9IT1NUTkFNRSA9PT0gRE9NQUlOLkZvcmJlcyB8fCBVUkxfSE9TVE5BTUUgPT09IERPTUFJTi5GcmVlQ291cnNlc09ubGluZSB8fAoJCQkJCQkJVVJMX0hPU1ROQU1FID09PSBET01BSU4uVGhlR3VhcmRpYW4gfHwgVVJMX0hPU1ROQU1FID09PSBET01BSU4uSW5xdWlyZXIgfHwgVVJMX0hPU1ROQU1FID09PSBET01BSU4uTWVkUGFnZVRvZGF5IHx8IAoJCQkJCQkJVVJMX0hPU1ROQU1FID09PSBET01BSU4uTWVyY3VyeU5ld3MgfHwgVVJMX0hPU1ROQU1FID09PSBET01BSU4uUmV1dGVycyB8fCBVUkxfSE9TVE5BTUUgPT09IERPTUFJTi5TRkNocm9uaWNsZSB8fCAKCQkJCQkJCVVSTF9IT1NUTkFNRSA9PT0gRE9NQUlOLldhc2hpbmd0b25Qb3N0IHx8IFVSTF9IT1NUTkFNRSA9PT0gRE9NQUlOLlZ1bHR1cmU7CgkKCQlpZiAoIUNBTl9QUk9DRUVEKSByZXR1cm4gZmFsc2U7CgkKCQlzd2l0Y2goVVJMX0hPU1ROQU1FKSB7CgkJCWNhc2UgRE9NQUlOLlRoZUN1dDoJCQkJVGhlQ3V0KCk7IGJyZWFrOwoJCQljYXNlIERPTUFJTi5Gb3JiZXM6CQkJCUZvcmJlcygpOyBicmVhazsKCQkJY2FzZSBET01BSU4uRnJlZUNvdXJzZXNPbmxpbmU6CUZyZWVDb3Vyc2VzT25saW5lKCk7IGJyZWFrOwoJCQljYXNlIERPTUFJTi5UaGVHdWFyZGlhbjoJCVRoZUd1YXJkaWFuKGlzTG9vcGVkKTsgZGVsZXRlSWZyYW1lcyA9IGZhbHNlOyBicmVhazsKCQkJY2FzZSBET01BSU4uSW5xdWlyZXI6CQkJSW5xdWlyZXIoaXNMb29wZWQpOyBicmVhazsKCQkJY2FzZSBET01BSU4uTWVkUGFnZVRvZGF5OgkJTWVkUGFnZVRvZGF5KCk7IGJyZWFrOwoJCQljYXNlIERPTUFJTi5NZXJjdXJ5TmV3czoJCU1lcmN1cnlOZXdzKGlzTG9vcGVkKTsgYnJlYWs7CgkJCWNhc2UgRE9NQUlOLlJldXRlcnM6CQkJUmV1dGVycygpOyBicmVhazsKCQkJY2FzZSBET01BSU4uU0ZDaHJvbmljbGU6CQlTRkNocm9uaWNsZSgpOyBicmVhazsKCQkJY2FzZSBET01BSU4uV2FzaGluZ3RvblBvc3Q6CQlXYXNoaW5ndG9uUG9zdChpc0xvb3BlZCk7IGJyZWFrOwoJCQljYXNlIERPTUFJTi5WdWx0dXJlOgkJCVZ1bHR1cmUoKTsgYnJlYWs7CgkJfQoJCgkJY29uc3QgUFJPQ0VTU0lOR19NRVNTQUdFID0gJ1RoZSBBc3Nhc3NpbmF0ZSBBZCBCbG9jayBCbG9ja2VycyBzY3JpcHQgaXMgZG9pbmcgaXRzIGpvYnMuIFBsZWFzZSB3YWl0IGEgZmV3IHNlY29uZHMuIPCfmqYnOwoJCWlmIChVUkxfSE9TVE5BTUUgPT09IERPTUFJTi5UaGVHdWFyZGlhbikgCgkJCVN0YXJ0aW5nUmVtb3ZhbE1lc3NhZ2UoUFJPQ0VTU0lOR19NRVNTQUdFLCAzMDApOwoJCWVsc2UKCQkJU3RhcnRpbmdSZW1vdmFsTWVzc2FnZShQUk9DRVNTSU5HX01FU1NBR0UpOwoJCQoJCUNvbW1vblJlbW92YWxJdGVtcyhkZWxldGVJZnJhbWVzKTsKCQlSZW1vdmVIdG1sQ29tbWVudHMoKTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjSW5qZWN0ZWQtQnktQXNzYXNzaW5hdGUtQWQtQmxvY2stQmxvY2tlcnMnKS5yZW1vdmUoKTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmFuY3lib3gtb3ZlcmxheScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KTsKCQkKCQlpZiAoVVJMX0hPU1ROQU1FID09PSBET01BSU4uVGhlR3VhcmRpYW4pIAoJCQlTdWNjZXNzUmVtb3ZhbE1lc3NhZ2UoMzAwKTsKCQllbHNlCgkJCVN1Y2Nlc3NSZW1vdmFsTWVzc2FnZSgpOwoJfQoJU3BlY2lhbE5pbmphSmF2YVNjcmlwdEtpbGxlcigpOyAvLyBydW4gdGhpcyBhc2FwCglmdW5jdGlvbiBCcmVha0phdmFTY3JpcHQoKSB7CgkJY29uc29sZS5sb2coJyVjIPCfkY0gQXNzYXNzaW5hdGUgQWQgQmxvY2sgQmxvY2tlcnMg4oCUIFRoZSBmb2xsb3dpbmcgaXMgbm90IGFuIGVycm9yLiBTaW1wbHkgYSB3YXkgdG8gYWJvcnQgSmF2YVNjcmlwdCBleGVjdXRpb24gb24gdGhpcyB3ZWJwYWdlLicsICdiYWNrZ3JvdW5kOiAjMGI4MDFkOyBjb2xvcjogI2ZmZjsnKTsKCQl0aHJvdyBuZXcgRXJyb3IoJ0phdmFTY3JpcHQgcHVycG9zZWx5IGJyb2tlbiBieSBBc3Nhc3NpbmF0ZSBBZCBCbG9jayBCbG9ja2VycycpOwoJfQoJZnVuY3Rpb24gQ2xlYXJDb29raWVzKCkgewoJCWRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpLmZvckVhY2goY29va2llID0+IHsKCQkgIGNvbnN0IE5BTUUgPSBjb29raWUuc3BsaXQoJz0nKVswXS50cmltKCk7CgkJICBjb25zdCBET01BSU4gPSBsb2NhdGlvbi5ob3N0bmFtZS5zcGxpdCgvXC4oPz1bXlwuXStcLikvKS5zbGljZSgxKS5qb2luKCcuJyk7CgkJICBkb2N1bWVudC5jb29raWUgPSBgJHsgTkFNRSB9PTttYXgtYWdlPTA7cGF0aD0vO2RvbWFpbj0keyBET01BSU4gfWA7CgkJfSk7Cgl9CglmdW5jdGlvbiBDb21tb25SZW1vdmFsSXRlbXMocmVtb3ZlSWZyYW1lID0gdHJ1ZSkgewoJCS8vcHJpbWFyeQoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NjcmlwdCcpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdub3NjcmlwdCcpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KTsKCQlpZiAocmVtb3ZlSWZyYW1lKSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpZnJhbWUnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2FzPSJzY3JpcHQiXScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KTsKCgkJLy9zZWNvbmRhcnkKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdodG1sJykucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpOwoJCWRvY3VtZW50LmJvZHkucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpOwoJfQoJZnVuY3Rpb24gT2theVRvVXNlU2xlZGdlSGFtbWVyUmVtb3ZhbCgpIHsKCQlyZXR1cm4gKFVSTF9IT1NUTkFNRSA9PT0gRE9NQUlOLlRoZURhaWx5QmVhc3QgfHwKCQkJCVVSTF9IT1NUTkFNRSA9PT0gRE9NQUlOLkZvcmJlcyB8fAoJCQkJVVJMX0hPU1ROQU1FID09PSBET01BSU4uSG91c3RvbkNocm9uaWNsZSB8fAoJCQkJVVJMX0hPU1ROQU1FID09PSBET01BSU4uSW5xdWlyZXIgfHwKCQkJCVVSTF9IT1NUTkFNRSA9PT0gRE9NQUlOLktlbGxleUJsdWVCb29rIHx8CgkJCQlVUkxfSE9TVE5BTUUgPT09IERPTUFJTi5NZWRQYWdlVG9kYXkgfHwKCQkJCVVSTF9IT1NUTkFNRSA9PT0gRE9NQUlOLk5hdGlvbmFsR2VvZ3JhcGhpYyB8fAoJCQkJVVJMX0hPU1ROQU1FID09PSBET01BSU4uU0ZDaHJvbmljbGUpID8gdHJ1ZSA6IGZhbHNlOwoJfQoJZnVuY3Rpb24gUmVtb3ZlSHRtbENvbW1lbnRzKCkgewoJCWxldCBjaGlsZHJlbiA9IGRvY3VtZW50LmJvZHkuY2hpbGROb2RlczsKCQlmb3IgKGxldCBjaGlsZCBpbiBjaGlsZHJlbikgewogICAgCQlpZiAoY2hpbGRyZW5bY2hpbGRdLm5vZGVUeXBlID09PSBOb2RlLkNPTU1FTlRfTk9ERSkgY2hpbGRyZW5bY2hpbGRdLnJlbW92ZSgpOwoJCX0KCX0KCWZ1bmN0aW9uIFN0YW5kYXJkUmVtb3ZhbCgpIHsKCQljb25zdCBJU19IVE1MX0JMT0NLRUQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdodG1sJykuZ2V0QXR0cmlidXRlKCdzdHlsZScpIAoJCWNvbnN0IElTX0JPRFlfQkxPQ0tFRCA9IGRvY3VtZW50LmJvZHkuZ2V0QXR0cmlidXRlKCdzdHlsZScpOwoJCWNvbnN0IElTX0hUTUxfQ0xBU1NfQkxPQ0tFRCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NwLW1lc3NhZ2Utb3BlbicpOwoKCQlpZiAoSVNfSFRNTF9CTE9DS0VEICE9PSB1bmRlZmluZWQgfHwgSVNfQk9EWV9CTE9DS0VEICE9PSB1bmRlZmluZWQgfHwgSVNfSFRNTF9DTEFTU19CTE9DS0VEKQoJCXsKCQkJY2xlYXJJbnRlcnZhbChjdXJyZW50U3RhdHVzMSk7IAoJCQkKCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTsKCQkJZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7CgkJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKS5jbGFzc0xpc3QucmVtb3ZlKCdzcC1tZXNzYWdlLW9wZW4nKTsKCgkJCXN3aXRjaChVUkxfSE9TVE5BTUUpCgkJCXsKCQkJCWNhc2UgRE9NQUlOLlZHMjQ3OgoJCQkJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tjbGFzcyo9InNwX3ZlaWwiXScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KQoJCQkJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tpZCo9InNwX21lc3NhZ2VfaWQiXScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KQoJCQkJCWJyZWFrOwoJCQl9CgkJfQoKCQljb25zb2xlLmNsZWFyKCk7Cgl9CglmdW5jdGlvbiBTdGFydGluZ1JlbW92YWxNZXNzYWdlKG1lc3NhZ2UsIHRvcCA9IDIyMCkgewoJCWRvY3VtZW50LmJvZHkucHJlcGVuZChPYmplY3QuYXNzaWduKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwgeyAKCQkJaWQ6ICJJbmplY3RlZC1CeS1Bc3Nhc3NpbmF0ZS1BZC1CbG9jay1CbG9ja2VycyIsCgkJCXN0eWxlOiBgYmFja2dyb3VuZC1jb2xvcjogI0Q4MDcwRTsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiB3aGl0ZTsgdGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW46IGF1dG87IHBhZGRpbmc6IDEwcHg7IHBvc2l0aW9uOiByZWxhdGl2ZTsgei1pbmRleDogOTk5OTk5OTk5OSAhaW1wb3J0YW50OyB0b3A6ICR7IHRvcCB9cHg7YAoJICAgIH0pKTsKCgkgICAgY29uc3QgSU5KRUNUT1JfRElWID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0luamVjdGVkLUJ5LUFzc2Fzc2luYXRlLUFkLUJsb2NrLUJsb2NrZXJzJyk7CgoJCWNvbnN0IFNUWUxFID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKCQlTVFlMRS5pbm5lclRleHQgPSAnI0luamVjdGVkLUJ5LUFzc2Fzc2luYXRlLUFkLUJsb2NrLUJsb2NrZXJzIGltZyB7IHdpZHRoOiB1bnNldDsgfSc7CgkJSU5KRUNUT1JfRElWLmFwcGVuZENoaWxkKFNUWUxFKTsKCgkJSU5KRUNUT1JfRElWLmFwcGVuZChPYmplY3QuYXNzaWduKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpLCB7CgkJCXNyYzogImh0dHBzOi8vaS5pbWd1ci5jb20vdmVsQ3hEWC5naWYiLAoJCQlzdHlsZTogImRpc3BsYXk6IGlubGluZS1ibG9jazsgdmVydGljYWwtYWxpZ246IG1pZGRsZTsgcGFkZGluZy1yaWdodDogMTBweDsiCgkJfSkpOwoJCQoJCWNvbnN0IFNQQU4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CgkJU1BBTi5pbm5lclRleHQgPSBtZXNzYWdlOwoJCUlOSkVDVE9SX0RJVi5hcHBlbmRDaGlsZChTUEFOKTsKCX0KCWZ1bmN0aW9uIFN1Y2Nlc3NSZW1vdmFsTWVzc2FnZSh0b3AgPSAyMjApIHsKCQlpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0luamVjdGVkLUJ5LUFzc2Fzc2luYXRlLUFkLUJsb2NrLUJsb2NrZXJzJykgIT09IG51bGwpIHsKCQkJY29uc3QgSU5KRUNUT1JfRElWID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0luamVjdGVkLUJ5LUFzc2Fzc2luYXRlLUFkLUJsb2NrLUJsb2NrZXJzJyk7CgkJCUlOSkVDVE9SX0RJVi5xdWVyeVNlbGVjdG9yKCdpbWcnKS5zcmMgPSAnaHR0cHM6Ly9pLmltZ3VyLmNvbS9pNWU1eHAwLmdpZic7CgkJCUlOSkVDVE9SX0RJVi5xdWVyeVNlbGVjdG9yKCdzcGFuJykuaW5uZXJUZXh0ID0gJ1N1Y2Nlc3Mg8J+Yji4gRW5qb3khIFlvdSBjYW4gc3RhcnQgc2Nyb2xsaW5nIG5vdy4uLic7CgkJCUlOSkVDVE9SX0RJVi5zdHlsZSA9IGBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiB3aGl0ZTsgdGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW46IGF1dG87IHBhZGRpbmc6IDEwcHg7IHBvc2l0aW9uOiByZWxhdGl2ZTsgei1pbmRleDogOTk5OTk5OTk5OSAhaW1wb3J0YW50OyB0cmFuc2l0aW9uOiAuNXM7IHRvcDogJHsgdG9wIH1weDtgOwoJCX0KCX0KCWZ1bmN0aW9uIFRQUmVtb3ZhbCgpIHsKCQkvLyBhIGNvbW1vbiBibG9ja2VyIG9uIGEgZmV3IHNpdGVzCgkJZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdqcy1kaWFsb2ctb3BlbicpOwoJCWRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgndHAtbW9kYWwtb3BlbicpOwoJCQoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50cC1tb2RhbCcpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudHAtYmFja2Ryb3AnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRpYWxvZy1iYXNlJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyN2aWV3LW9mZmVyJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJfQoKCgkvLyAzLiBTSVRFIFNQRUNJRklDIERJUkVDVElWRVMKCWZ1bmN0aW9uIEJ1c2luZXNzSW5zaWRlcigpIHsKCQlUUFJlbW92YWwoKTsKCX0KCWZ1bmN0aW9uIENOQkMoaXNMb29wZWQpIHsKCQlDb21tb25SZW1vdmFsSXRlbXMoZGVsZXRlSWZyYW1lcyk7CgoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNjaGVja291dC1jb250YWluZXInKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLkFydGljbGVHYXRlLXByb0dhdGUnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgoJCWNvbnN0IFNFTEVDVE9SID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2gzJyldLmZpbHRlcihlbGVtZW50ID0+IGVsZW1lbnQudGV4dENvbnRlbnQuaW5jbHVkZXMoJ3VzaW5nIGFuIGFkYmxvY2tlcicpICk7CgkJaWYgKFNFTEVDVE9SLmxlbmd0aCA+IDApIFNFTEVDVE9SWzBdLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGUucmVtb3ZlKCk7CgoJCWlmICh0eXBlb2YgaXNMb29wZWQgIT09ICd1bmRlZmluZWQnKSB7CgkJCWlmICghaXNMb29wZWQgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLkFydGljbGVCb2R5LWV4dHJhRGF0YScpICE9PSBudWxsKSB7CgkJCQlsZXQgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5BcnRpY2xlQm9keS1leHRyYURhdGEnKTsKCQkJCWVsZW1lbnQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tjbGFzcyo9Ii1kYXRhIl0nKTsKCQkJCWNvbnN0IENPTlRFTlRfQVJSQVkgPSBlbGVtZW50LnRleHRDb250ZW50LnNwbGl0KCcgJyk7CgkJCQljb25zdCBQQVJBR1JBUEhfV09SRF9DT1VOVCA9IDEwMDsKCgkJCQljb25zdCBQQVJFTlRfRUxFTUVOVCA9IFtdOwoJCQkJd2hpbGUgKChlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlKSAmJiBlbGVtZW50ICE9PSBkb2N1bWVudCkgewoJCQkJCWlmIChlbGVtZW50Lm1hdGNoZXMoJy5BcnRpY2xlQm9keS1hcnRpY2xlQm9keScpKSB7CgkJCQkJCVBBUkVOVF9FTEVNRU5ULnB1c2goZWxlbWVudCk7CgkJCQkJCWJyZWFrOwoJCQkJCX0KCQkJCX0KCgkJCQlsZXQgYXJ0aWNsZUNvbnRlbnQgPSAnJywgaW5kZXggPSAwOwoKCQkJCWZvciAobGV0IHdvcmQgb2YgQ09OVEVOVF9BUlJBWSkgewoJCQkJCWFydGljbGVDb250ZW50ICs9IGAkeyB3b3JkIH0gYDsKCQkJCQlpZiAoaW5kZXggPT09IFBBUkFHUkFQSF9XT1JEX0NPVU5UKSB7CgkJCQkJCWFydGljbGVDb250ZW50ICs9ICc8YnIvPjxici8+JzsKCQkJCQkJaW5kZXggPSAwOwoJCQkJCX0KCQkJCQlpbmRleCsrOwoJCQkJfQoKCQkJCWNvbnN0IENPTlRFTlRfRUxFTUVOVCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJCQkJQ09OVEVOVF9FTEVNRU5ULnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnbGluZS1oZWlnaHQ6IDEuNmVtOycpOwoJCQkJQ09OVEVOVF9FTEVNRU5ULmlubmVySFRNTCA9IGFydGljbGVDb250ZW50OwoJCQkJUEFSRU5UX0VMRU1FTlRbMF0uYXBwZW5kQ2hpbGQoQ09OVEVOVF9FTEVNRU5UKTsKCgkJCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZ3JvdXAnKS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pCgkJCX0KCQl9Cgl9CglmdW5jdGlvbiBDTk4oKSB7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFkLXNsb3QtaGVhZGVyJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNhZC1mZWVkYmFja19fbW9kYWwtb3ZlcmxheScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KTsKCX0KCWZ1bmN0aW9uIENvbW1vblNlbnNlTWVkaWEoKSB7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmNsYXNzTGlzdC5yZW1vdmUoJ2NzbS1wcmVtaXVtLWdhdGVkJyk7CgkJY29uc3QgTUVNQkVSX0dBVEUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXNlci1wbHVzLWdhdGUnKTsKCQlpZiAoTUVNQkVSX0dBVEUgIT09IG51bGwpIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLXBsdXMtZ2F0ZScpLnJlbW92ZSgpOwoJfQoJZnVuY3Rpb24gQ3VyYmVkKCkgewoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ292ZXJmbG93LXk6IHVuc2V0OycpOwoJCWRvY3VtZW50LmJvZHkuc2V0QXR0cmlidXRlKCdzdHlsZScsICdwb3NpdGlvbjogdW5zZXQ7IHdpZHRoOiAxMTAwcHg7IG1hcmdpbjogMCBhdXRvOycpOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hcnRpY2xlIC5hcnRpY2xlLWhlYWRlciwgLmFydGljbGUgLmFydGljbGUtaGVhZGVyLmlubGluZScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnbWFyZ2luOiB1bnNldDsnKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFydGljbGUgLmxlZGUtaW1hZ2Utd3JhcHBlci5pbmxpbmUuaG9yaXpvbnRhbCcpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnbWFyZ2luOiB1bnNldDsnKTsgfSkgCgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3BheXdhbGwtcmVhZGVyLWludGVyZmFjZScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjY2xpZmYtdGFrZW92ZXInKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRlcnRpYXJ5JykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpOyB9KTsKCX0KCWZ1bmN0aW9uIFRoZUN1dCgpIHsKCQlDb21tb25SZW1vdmFsSXRlbXMoZGVsZXRlSWZyYW1lcyk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3BheXdhbGwtcmVhZGVyLWludGVyZmFjZScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjY2xpZmYtdGFrZW92ZXInKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRlcnRpYXJ5JykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpOyB9KTsKCX0KCWZ1bmN0aW9uIFRoZURhaWx5QmVhc3QoKSB7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLkRFUFJFQ0FURURBZFNsb3QnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSkJCQoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50cC1tb2RhbCcpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudHAtYmFja2Ryb3AnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCd0cC1tb2RhbC1vcGVuJyk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2lkKj0ib2ZmZXItMC0iXScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGlzcGxheW5hbWUqPSJQaWFub1RhZyJdJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tzcmMqPSJ0aW55cGFzcy5taW4uanMiXScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjcGlhbm9fYm90dG9tX3JpYmJvbl93cmFwcGVyJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lmcmFtZScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KTsKCQlkb2N1bWVudC5ib2R5LnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjYm90dG9tX3JpYmJvbl9tb2RhbF93cmFwcGVyJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5TdG9yeVBhZ2UuaXMtbG9ja2VkJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtbG9ja2VkJyk7IH0pOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNib3R0b21fcmliYm9uX21vZGFsX2V4cGFuZF93cmFwcGVyJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5QYWdlVG9wQWQnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLkZvb3RlckFkJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNJbmplY3RlZC1CeS1Bc3Nhc3NpbmF0ZS1BZC1CbG9jay1CbG9ja2VycycpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuRXh0cmFTaWRlYmFyQWQnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLkFkU2xvdCcpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuU2ltcGxlQWQnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW3N0eWxlPSJtYXJnaW46NDBweCAwO21pbi1oZWlnaHQ6MjAwcHgiXScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KTsKCgkJY29uc29sZS5jbGVhcigpOwoJCWNvbnNvbGUubG9nKCclYyDwn5iOIEFzc2Fzc2luYXRlIEFkIEJsb2NrIEJsb2NrZXJzIOKAlCBCbG9ja2VyIGNvZGUgcmVtb3ZlZCcsICdiYWNrZ3JvdW5kOiAjMGI4MDFkOyBjb2xvcjogI2ZmZjsnKTsKCX0KCWZ1bmN0aW9uIERhaWx5TWFpbCgpIHsKCQlDb21tb25SZW1vdmFsSXRlbXMoZGVsZXRlSWZyYW1lcyk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2Nocm9tZWxlc3NQbGF5ZXInKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJpbGxib2FyZC1jb250YWluZXIud2F0ZXJtYXJrJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNjaHJvbWVsZXNzUGxheWVyJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hZEhvbGRlci53YXRlcm1hcmsnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1wdV9wdWZmX3dyYXBwZXIud2F0ZXJtYXJrJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJfQoJZnVuY3Rpb24gRXVyb0dhbWVyKCkgewoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2h0bWwnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7IGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc3AtbWVzc2FnZS1vcGVuJykgfSk7CgkJZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2NsYXNzKj0ic3BfdmVpbCJdJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tpZCo9InNwX21lc3NhZ2VfaWQiXScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KTsKCX0KCWZ1bmN0aW9uIEZhc3RDb21wYW55KCkgewoJCWlmIChkb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZSAhPT0gJy8nKSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjY2hlY2tvdXQtY29udGFpbmVyJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pCgl9CglmdW5jdGlvbiBGb3JiZXMoKSB7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRvcC1hZC1jb250YWluZXInKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRwLW1vZGFsJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50cC1iYWNrZHJvcC50cC1hY3RpdmUnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBhZ2UtbG9hZGVkJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hcnRpY2xlLWZpeGVkW19uZ2hvc3QtYzExXScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCdwb3NpdGlvbjogdW5zZXQ7Jyk7IH0pOwoKCQkvLyBhYm5vcm1hbCBzaXR1YXRpb24uIHRoZXNlIGFwcGVhciBvbiBjZXJ0YWluIHBhZ2VzLgoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNsaWdodGJveGpzLWxpZ2h0Ym94bGliJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNhYXhfcHJlZmV0Y2hfZnJhbWUnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2Nva19hYXgnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaWZyYW1lJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mYnMtYXV0aF9fY29udGFpbmVyJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mYnMtYWQtLW50di1jb250ZW50ZC13cmFwcGVyJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ib2R5LS1uby1zY3JvbGwnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoZWNrb3V0LWNvbnRhaW5lcicpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudHAtYmFja2Ryb3AnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZmJzLWFkJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyN2aWV3LW9mZmVyJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy52ZXN0cG9ja2V0JykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pCgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2NyaXB0JykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IAoJCQlsZXQgc2VsZWN0b3IgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnc3JjJyk7CgkJCWlmIChzZWxlY3RvciAhPT0gbnVsbCkgLy8gaWdub3JlIGlubGluZSBzY3JpcHRzCgkJCQlpZiAoU3RyaW5nKHNlbGVjdG9yKS5tYXRjaCgvKHBheXdhbGwpKy4odW5sb2NrLXByb3RvY29sKSsuL2cpICE9PSBudWxsKSBlbGVtZW50LnJlbW92ZSgpOyAgLy8gdGhlIHNjcmlwdCBpcyBmb3VuZCBhbmQgcmVtb3ZlZCBzbyB0aGF0IGl0IGNhbid0IHJlLWluamVjdCBpdHNlbGYKCQl9KTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjYXJ0aWNsZS1jb250YWluZXItMCcpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAncG9zaXRpb246IHVuc2V0OycpOyB9KTsKCX0KCWZ1bmN0aW9uIEZvcnR1bmUoKSB7CgkJaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tpZCo9IkxlYWRlcmJvYXJkIl0nKSAhPT0gbnVsbCkgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2lkKj0iTGVhZGVyYm9hcmQiXScpLnBhcmVudE5vZGUucmVtb3ZlKCk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBheXdhbGwtc2VsZWN0b3InKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2NsYXNzKj0icGF5d2FsbCJdJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzdHlsZScsJycpIH0pOwoKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbY2xhc3MqPSJhcnRpY2xlQm9keV9fd3JhcHBlci0iXScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyAKCQkJZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdkaXYnKS5mb3JFYWNoKGZ1bmN0aW9uKGlubmVyRWxlbWVudCkgeyAKCQkJCWNvbnN0IEFUVFIgPSBpbm5lckVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzdHlsZScpOwoJCQkJaWYgKHR5cGVvZiBBVFRSICE9ICd1bmRlZmluZWQnICYmIEFUVFIgIT09IGZhbHNlICYmIEFUVFIuaW5jbHVkZXMoJ2dyYXlzY2FsZSgwLjUpIGJsdXInKSkKCQkJCQlpbm5lckVsZW1lbnQuc2V0QXR0cmlidXRlKCdzdHlsZScsJycpOwoJCQl9KTsKCQl9KTsKCgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBheXdhbGwucGF5d2FsbEFjdGl2ZScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCdmaWx0ZXI6IHVuc2V0OyB6LWluZGV4OiB1bnNldDsgcG9pbnRlci1ldmVudHM6IHVuc2V0OyB1c2VyLXNlbGVjdDogdW5zZXQ7JykgfSk7Cgl9CglmdW5jdGlvbiBGb3hCdXNpbmVzcygpIHsKCQlkb2N1bWVudC5ib2R5LnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmMtYWItcm9vdCcpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KQoKCQljb25zdCBFTEVNRU5UUyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdicpOwoJCWNvbnN0IEVMRU1FTlRTX1RPX1JFTU9WRSA9IFsuLi5FTEVNRU5UU10uZmlsdGVyKGVsZW1lbnQgPT4gZWxlbWVudC50ZXh0Q29udGVudC5pbmNsdWRlcygnRGlzYWJsZSBhbnkgYWQgb3Igc2NyaXB0IGJsb2NraW5nIHNvZnR3YXJlJykpOwoJCQoJCWZvciAoY29uc3QgZWxlbWVudCBvZiBFTEVNRU5UU19UT19SRU1PVkUpIGVsZW1lbnQucmVtb3ZlKCk7Cgl9CglmdW5jdGlvbiBGb3hOZXdzKCkgewoJCWRvY3VtZW50LmJvZHkucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mYy1hYi1yb290JykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pCgl9CglmdW5jdGlvbiBGcmVlQ291cnNlc09ubGluZSgpIHsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgCgkJCWlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnc3JjJykuaW5jbHVkZXMoJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwnKSkgewoJCQkJZWxlbWVudC5wYXJlbnROb2RlLnBhcmVudE5vZGUucmVtb3ZlKCk7CgkJCQllbGVtZW50LnJlbW92ZSgpOyAKCQkJfQoJCX0pCgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgna2JkJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pCgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2JykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGlmIChlbGVtZW50LnRleHRDb250ZW50LmluY2x1ZGVzKCdCbG9ja2VkIGJlY2F1c2Ugb2YgQWQgQmxvY2tlcicpKSBlbGVtZW50LnJlbW92ZSgpOyB9KQoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vYmZ1c2NhdG9yJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pCgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW3N0eWxlKj0iY3Vyc29yOiBuby1kcm9wOyJdJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCkgfSkKCX0KCWZ1bmN0aW9uIEdhbWVzUmFkYXIoaW50ZXJ2YWwpIHsKCQlpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZjLWFiLXJvb3QnKSAhPT0gbnVsbCkKCQkJaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYy1hYi1yb290Jykuc3R5bGUudmlzaWJpbGl0eSA9PT0gJ3Zpc2libGUnKQoJCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJhbGVpZ2gtb3B0aW4tdmlzaWJsZScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KTsKCgkJaWYgKHR5cGVvZiBpbnRlcnZhbCAhPT0gJ3VuZGVmaW5lZCcpCgkJCWNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpOwoJCWVsc2UKCQkJY2xlYXJBbGxJbnRlcnZhbHMoKTsKCX0KCWZ1bmN0aW9uIEdhbWVSYW50KCkgewoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7CgkJZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7CgoJCWNvbnN0IFNFTEVDVE9SID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2gzJyldLmZpbHRlcihlbGVtZW50ID0+IGVsZW1lbnQudGV4dENvbnRlbnQuaW5jbHVkZXMoJ3VzaW5nIGFuIGFkYmxvY2tlcicpICk7CgkJaWYgKFNFTEVDVE9SLmxlbmd0aCA+IDApIFNFTEVDVE9SWzBdLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGUucmVtb3ZlKCk7CgkJCgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFkc25pbmphLWFkLXpvbmUnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7Cgl9CglmdW5jdGlvbiBUaGVHdWFyZGlhbihpc0xvb3BlZCkgewoJCUNvbW1vblJlbW92YWxJdGVtcyhkZWxldGVJZnJhbWVzKTsKCgkJZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywnJyk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsLXNjcm9sbGFibGUnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbm5leHQtbW9kYWwtYmFja2Ryb3AuZmFkZScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjc2lnbi1pbi1nYXRlJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCkgfSkKCQljb25zdCBCQU5ORVJfSEVBREVSID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvcC1iYW5uZXItYWQtY29udGFpbmVyJyk7IGlmIChCQU5ORVJfSEVBREVSICE9PSBudWxsKSBCQU5ORVJfSEVBREVSLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZS5yZW1vdmUoKTsKCgkJY29uc3QgQVJUSUNMRSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWxheW91dD0iU3RhbmRhcmRMYXlvdXQiXSBhcnRpY2xlJykgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbGF5b3V0PSJJbW1lcnNpdmVMYXlvdXQiXSBhcnRpY2xlJykgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbGF5b3V0PSJTaG93Y2FzZUxheW91dCJdIGFydGljbGUnKTsKCgkJaWYgKHR5cGVvZiBpc0xvb3BlZCAhPT0gJ3VuZGVmaW5lZCcpIHsKCQkJaWYgKCFpc0xvb3BlZCAmJiBBUlRJQ0xFICE9PSBudWxsICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhcnRpY2xlLWNsb25lZCcpID09PSBudWxsKSB7CgkJCQkvLyBjbG9uZSB0aGUgYXJ0aWNsZQoJCQkJY29uc3QgQ0xPTkVEX0NPTlRFTlQgPSBBUlRJQ0xFLmNsb25lTm9kZSh0cnVlKTsKCQkJCUNMT05FRF9DT05URU5ULmlkID0gJ2FydGljbGUtY2xvbmVkJzsKCQkJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKS5wcmVwZW5kKENMT05FRF9DT05URU5UKTsKCgkJCQkvLyByZW1vdmUgZHVwbGljYXRlCgkJCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhcnRpY2xlJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnaWQnKSA9PT0gbnVsbCkgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgoJCQkJLy8gY2xlYW4gdXAKCQkJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50b3AtYmFubmVyLWFkLWNvbnRhaW5lcicpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyAKCQkJCQl3aGlsZSAoKGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGUpICYmIGVsZW1lbnQgIT09IGRvY3VtZW50KSB7CgkJCQkJCWlmIChlbGVtZW50Lm1hdGNoZXMoJ1tjbGFzcyo9ImRjci0iXScpKSB7CgkJCQkJCQllbGVtZW50LnJlbW92ZSgpOwoJCQkJCQl9CgkJCQkJfQoJCQkJfSk7CgoJCQkJLy8gdmlkZW8gZml4CgkJCQljb25zdCBFTEVNRU5UID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW2RhdGEtdGVzdGlkXScpOwoJCQkJaWYgKEVMRU1FTlQgIT09IG51bGwpIHsKCQkJCQljb25zdCBZT1VUVUJFX0lEID0gRUxFTUVOVC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY3knKS5zcGxpdCgnLScpWzJdOwoJCQkJCWNvbnN0IFlPVVRVQkVfTEFCRUwgPSBFTEVNRU5ULmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpOwoKCQkJCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ndS1uYW1lPSJtZWRpYSJdID4gZGl2JykucmVtb3ZlKCk7CgoJCQkJCWNvbnN0IE1FRElBX1dSQVBQRVIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ndS1uYW1lPSJtZWRpYSJdJyk7CgkJCQkJTUVESUFfV1JBUFBFUi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywncGFkZGluZy1ib3R0b206IDIwcHg7Jyk7CgoJCQkJCWNvbnN0IFlPVVRVQkVfV1JBUFBFUiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoKCQkJCQljb25zdCBZT1VUVUJFX0lGUkFNRSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpOwoJCQkJCVlPVVRVQkVfSUZSQU1FLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCAnNjIwJyk7CgkJCQkJWU9VVFVCRV9JRlJBTUUuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCAnMzQ5Jyk7CgkJCQkJWU9VVFVCRV9JRlJBTUUuc2V0QXR0cmlidXRlKCdzcmMnLGBodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8keyBZT1VUVUJFX0lEIH1gKTsKCQkJCQlZT1VUVUJFX0lGUkFNRS5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgWU9VVFVCRV9MQUJFTCk7CgkJCQkJWU9VVFVCRV9JRlJBTUUuc2V0QXR0cmlidXRlKCdmcmFtZWJvcmRlcicsIDApOwoJCQkJCVlPVVRVQkVfSUZSQU1FLnNldEF0dHJpYnV0ZSgnYWxsb3cnLCAnYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGNsaXBib2FyZC13cml0ZTsgZW5jcnlwdGVkLW1lZGlhOyBneXJvc2NvcGU7IHBpY3R1cmUtaW4tcGljdHVyZTsgd2ViLXNoYXJlJyk7CgkJCQkJWU9VVFVCRV9JRlJBTUUuc2V0QXR0cmlidXRlKCdhbGxvd2Z1bGxzY3JlZW4nLCcnKTsKCgkJCQkJWU9VVFVCRV9XUkFQUEVSLmFwcGVuZChZT1VUVUJFX0lGUkFNRSk7CgkJCQkJTUVESUFfV1JBUFBFUi5hcHBlbmQoWU9VVFVCRV9XUkFQUEVSKTsKCQkJCX0KCgkJCX0KCQl9Cgl9CglmdW5jdGlvbiBIb3VzdG9uQ2hyb25pY2xlKCkgewoJCUNvbW1vblJlbW92YWxJdGVtcyhkZWxldGVJZnJhbWVzKTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmFuY3lib3gtb3ZlcmxheScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmFuY3lib3gtbG9jaycpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2ZhbmN5Ym94LWxvY2snKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJjX2hlYWRlcicpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZTpsYXN0LWNoaWxkJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGlmICghZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2lkJykpIGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJfQoJZnVuY3Rpb24gSW5jKCkgewoJCVRQUmVtb3ZhbCgpOwoJfQoJZnVuY3Rpb24gSW5xdWlyZXIoaXNMb29wZWQpIHsKCQkvLyBzdGFuZGFyZCBzdHVmZgoJCUNvbW1vblJlbW92YWxJdGVtcyhkZWxldGVJZnJhbWVzKTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudHAtbW9kYWwnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRwLWJhY2tkcm9wJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJCWRvY3VtZW50LmJvZHkuc2V0QXR0cmlidXRlKCdjbGFzcycsJycpOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ieC1iYXNlJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoKCQlpZiAodHlwZW9mIGlzTG9vcGVkICE9PSAndW5kZWZpbmVkJykgewoJCQlpZiAoIWlzTG9vcGVkKSB7CgkJCQlsZXQgaGFzSGVhZGVyID0gZmFsc2UsIGhhc0NvbnRlbnQgPSBmYWxzZSwgaGFzRm9vdGVyID0gZmFsc2U7CgkJCQkvLyBjbG9uZSB0aGUgYXJ0aWNsZQoJCQkJaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYXlvdXQtYWQtd3JhcHBlciBoZWFkZXInKSAhPT0gbnVsbCkgewoJCQkJCWNvbnN0IENMT05FRF9IRUFERVIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGF5b3V0LWFkLXdyYXBwZXIgaGVhZGVyJykuY2xvbmVOb2RlKHRydWUpOwoJCQkJCUNMT05FRF9IRUFERVIuaWQgPSAnY2xvbmVkLWhlYWRlcic7CgkJCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Z1c2lvbi1hcHAnKS5hcHBlbmQoQ0xPTkVEX0hFQURFUik7CgkJCQkJaGFzSGVhZGVyID0gdHJ1ZTsKCQkJCX0KCgkJCQlpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2lkPSJtYWluIl0nKSAhPT0gbnVsbCkgewoJCQkJCWNvbnN0IENMT05FRF9DT05URU5UID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2lkPSJtYWluIl0nKS5jbG9uZU5vZGUodHJ1ZSk7CgkJCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Z1c2lvbi1hcHAnKS5hcHBlbmQoQ0xPTkVEX0NPTlRFTlQpOwoJCQkJCWhhc0NvbnRlbnQgPSB0cnVlOwoJCQkJfQoKCQkJCWlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGF5b3V0LWFkLXdyYXBwZXIgZm9vdGVyJykgIT09IG51bGwpIHsKCQkJCQljb25zdCBDTE9ORURfRk9PVEVSID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxheW91dC1hZC13cmFwcGVyIGZvb3RlcicpLmNsb25lTm9kZSh0cnVlKTsKCQkJCQlDTE9ORURfRk9PVEVSLmlkID0gJ2Nsb25lZC1mb290ZXInOwoJCQkJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmdXNpb24tYXBwJykuYXBwZW5kKENMT05FRF9GT09URVIpOwoJCQkJCWhhc0Zvb3RlciA9IHRydWU7CgkJCQl9CgkJCQkKCQkJCWlmIChoYXNIZWFkZXIgfHwgaGFzQ29udGVudCB8fCBoYXNGb290ZXIpIHsKCQkJCQkvLyByZW5hbWUgY2xhc3NlcyBhbmQgaWRzIHRvIGVzY2FwZSBzaXRlJ3MgcmVtb3ZhbCBsb2dpYwoJCQkJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmdXNpb24tYXBwIGRpdjpmaXJzdC1vZi10eXBlJykucmVtb3ZlKCk7CgkJCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmlucS1zdG9yeScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoaW5xLXN0b3J5KTsgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpbnEtc3RvcnktY2xvbmVkJykgfSk7CgkJCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2FydGljbGUtYm9keScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTsgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2lkJywnYXJ0aWNsZS1ib2R5LWNsb25lZCcpIH0pOwoJCQkJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnEtcCcpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2lucS1wJyk7IGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaW5xLWNsb25lZCcpIH0pOwoKCQkJCQkvLyBwb2xpc2ggYW5kIGNsZWFuLXVwCgkJCQkJY29uc3QgQ1NTX1NUWUxFID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKCQkJCQlDU1NfU1RZTEUuaW5uZXJIVE1MID0gCWAjYXJ0aWNsZS1ib2R5LWNsb25lZAkJCXsgZm9udDogNTAwIDEuMjVyZW0vMnJlbSBJbnF1aXJlciBUZXh0IFdFQixUaW1lcyxzZXJpZjsgfQoJCQkJCQkJCQkJCS5pbnEtaW1hZ2UuaGlkZGVuLWlucS1pbWFnZSAJeyB2aXNpYmlsaXR5OiB2aXNpYmxlOyB9CgkJCQkJCQkJCQkJLnR5cGUtaW50ZXJzdGl0aWFsLmlucS1jbG9uZWQJeyBtYXJnaW46IDQwcHggMDsgfQoJCQkJCQkJCQkJCS5pbnEtaW1hZ2UtLXdyYXBwZXIJCQkJeyBtYXJnaW4tdG9wOiAyMHB4OyB9CgkJCQkJCQkJCQkJLmlucS1jbG9uZWQJCQkJCQl7IHBhZGRpbmc6IDAgMCAxNXB4IDA7IH1gOwoJCQkJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmdXNpb24tYXBwJykuYXBwZW5kQ2hpbGQoQ1NTX1NUWUxFKTsKCQkJCX0KCQkJfQoJCX0KCX0KCWZ1bmN0aW9uIEluc2lkZXIoKSB7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRwLW1vZGFsJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50cC1iYWNrZHJvcC50cC1hY3RpdmUnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7Cgl9CglmdW5jdGlvbiBLZWxsZXlCbHVlQm9vaygpIHsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjV2hpdGVsaXN0T3ZlcmxheU1vZGFsQmFja2dyb3VuZCcpLnJlbW92ZSgpOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKS5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7Cgl9CglmdW5jdGlvbiBMQVRpbWVzKCkgewoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywnb3ZlcmZsb3c6IHVuc2V0OycpOwoJCWRvY3VtZW50LmJvZHkucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5QYWdlLWJvZHknKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7IH0pOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mYy1hYi1yb290JykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCkgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1ldGVyLW1vZGFsJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmUoKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbWV0ZXJpbmctbW9kYWwnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKSB9KTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdtb2RhbGl0eS1jdXN0b20tZWxlbWVudCcpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpIH0pOwoJCWNvbnN0IE1FU1NBR0VfQkxPQ0sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpZnJhbWVbbmFtZT0iZ29vZ2xlZmNQcmVzZW50Il0nKTsKCQlpZiAoTUVTU0FHRV9CTE9DSyAhPT0gbnVsbCkgTUVTU0FHRV9CTE9DSy5uZXh0RWxlbWVudFNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nLnJlbW92ZSgpOwoJfQoJZnVuY3Rpb24gTWFrZVVzZU9mKCkgewoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tjbGFzcyo9InVuYmxvY2twbGVhc2Utb3ZlcmxheSJdJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpOyB9KTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudW5ibG9ja3BsZWFzZScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTsgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFkc25pbmphLWFkLXpvbmUnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSk7Cgl9CglmdW5jdGlvbiBNZWRQYWdlVG9kYXkoKSB7CgkJQ29tbW9uUmVtb3ZhbEl0ZW1zKGRlbGV0ZUlmcmFtZXMpOwoJCWRvY3VtZW50LmJvZHkuc2V0QXR0cmlidXRlKCdjbGFzcycsJycpOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tcHQtcmVnaXN0cmF0aW9uLWh0bWwnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKSB9KTsKCQljb25zdCBTSVRFX1dSQVBQRVIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2l0ZVdyYXBwZXInKTsKCQlTSVRFX1dSQVBQRVIucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpCgkJU0lURV9XUkFQUEVSLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCdtYXJnaW4tdG9wOiA0MHB4OycpOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZWNpcmMtaXRlbV9faW1nLWNvbnRhaW5lcicpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCdtYXJnaW4tcmlnaHQ6IDIwcHg7JykgfSk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxlYWRlcmJvYXJkLXJlZ2lvbicpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpIH0pOwoJfQoJZnVuY3Rpb24gTWVyY3VyeU5ld3MoaXNMb29wZWQpIHsKCQlDb21tb25SZW1vdmFsSXRlbXMoZGVsZXRlSWZyYW1lcyk7CgoJCWRvY3VtZW50LmJvZHkuc2V0QXR0cmlidXRlKCdjbGFzcycsJycpOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2RhbC1zY3JvbGxhYmxlJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pCgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbm5leHQtbW9kYWwtYmFja2Ryb3AuZmFkZScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KQoKCQlpZiAodHlwZW9mIGlzTG9vcGVkICE9PSAndW5kZWZpbmVkJykgewoJCQlpZiAoIWlzTG9vcGVkICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tpZD0ibWFpbiJdJykgIT09IG51bGwpIHsKCQkJCS8vIGNsb25lIHRoZSBhcnRpY2xlCgkJCQljb25zdCBDTE9ORURfQ09OVEVOVCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tpZD0ibWFpbiJdJykuY2xvbmVOb2RlKHRydWUpOwoJCQkJQ0xPTkVEX0NPTlRFTlQuaWQgPSAnbWFpbi1jbG9uZWQnOwoJCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3ByaW1hcnknKS5hcHBlbmQoQ0xPTkVEX0NPTlRFTlQpOwoKCQkJCS8vIHJlbmFtZSBjbGFzc2VzIGFuZCBpZHMgdG8gZXNjYXBlIHNpdGUncyByZW1vdmFsIGxvZ2ljCgkJCQljb25zdCBNQUlOX0VMRU1FTlQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJpbWFyeSA+IG1haW4nKTsgaWYgKE1BSU5fRUxFTUVOVCAhPT0gbnVsbCkgTUFJTl9FTEVNRU5ULnJlbW92ZSgpOwoJCQkJY29uc3QgTUFJTl9DTE9ORV9FTEVNRU5UID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21haW4tY2xvbmVkJyk7IE1BSU5fQ0xPTkVfRUxFTUVOVC5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7IE1BSU5fQ0xPTkVfRUxFTUVOVC5yZW1vdmVBdHRyaWJ1dGUoJ3JvbGUnKTsKCQkJCWNvbnN0IFBPU1RfRUxFTUVOVCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tpZCo9InBvc3QtIl0nKTsgUE9TVF9FTEVNRU5ULnNldEF0dHJpYnV0ZSgnaWQnLCAnY29uZWQtcG9zdCcpOyBQT1NUX0VMRU1FTlQuc2V0QXR0cmlidXRlKCdjbGFzcycsJ2Z1bGwtdmlldycpOwoJCQkJY29uc3QgQVJUSUNMRV9DT05URU5UID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFydGljbGUtY29udGVudCcpOyBBUlRJQ0xFX0NPTlRFTlQuc2V0QXR0cmlidXRlKCdjbGFzcycsJ2Nsb25lZC1hLWNvbnRlbnQnKTsKCQkJCWNvbnN0IEFSVElDTEVfRk9PVEVSID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFydGljbGUtZm9vdGVyJyk7IEFSVElDTEVfRk9PVEVSLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCdjbG9uZWQtYS1mb290ZXInKTsKCQkJCWNvbnN0IEFSVElDTEVfQ09OVEVOVF9XUkFQUEVSID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFydGljbGUtY29udGVudC13cmFwcGVyJyk7IEFSVElDTEVfQ09OVEVOVF9XUkFQUEVSLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCdjbG9uZWQtYS1jb250ZW50LXdyYXBwZXInKTsKCQkJCWNvbnN0IEhFQURFUl9GRUFUVVJFUyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItZmVhdHVyZXMuaGlkZScpOyBpZiAoSEVBREVSX0ZFQVRVUkVTICE9PSBudWxsKSBIRUFERVJfRkVBVFVSRVMuc2V0QXR0cmlidXRlKCdjbGFzcycsJ2Nsb25lZC1oLWZlYXR1cmVzJyk7CgkJCQljb25zdCBBUlRJQ0xFX0JPRFkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXJ0aWNsZS1ib2R5Jyk7IEFSVElDTEVfQk9EWS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywnY2xvbmVkLWEtYm9keScpOwoJCQkJY29uc3QgQk9EWV9DT1BZID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvZHktY29weScpOyBCT0RZX0NPUFkuc2V0QXR0cmlidXRlKCdjbGFzcycsJ2Nsb25lZC1iLWNvcHknKTsKCgkJCQkvLyBwb2xpc2ggYW5kIGNsZWFuLXVwCgkJCQljb25zdCBDT05URU5UX0VMRU1FTlQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwoJCQkJQ09OVEVOVF9FTEVNRU5ULmlubmVySFRNTCA9IGAuY2xvbmVkLWUtaGVhZGVyCQkJeyBib3JkZXItYm90dG9tOiAzcHggc29saWQgdHJhbnNwYXJlbnQ7IGRpc3BsYXk6IC13ZWJraXQtYm94OyBkaXNwbGF5OiAtbXMtZmxleGJveDsgZGlzcGxheTogZmxleDsgLW1zLWZsZXgtd3JhcDogd3JhcDsgZmxleC13cmFwOiB3cmFwOyBmbG9hdDogbm9uZTsgLXdlYmtpdC1ib3gtcGFjazoganVzdGlmeTsgLW1zLWZsZXgtcGFjazoganVzdGlmeTsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBtYXJnaW46IDJlbSAwZW0gLTIuMjVlbTsgcGFkZGluZzogMDsgcG9zaXRpb246IHJlbGF0aXZlOyB9CgkJCQkJCQkJCQkJLmNsb25lZC1hLWNvbnRlbnQJCQl7IGRpc3BsYXk6IC13ZWJraXQtYm94OyBkaXNwbGF5OiAtbXMtZmxleGJveDsgZGlzcGxheTogZmxleDsgLXdlYmtpdC1ib3gtcGFjazoganVzdGlmeTsgLW1zLWZsZXgtcGFjazoganVzdGlmeTsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBjb2x1bW4tZ2FwOiAyMHB4OyB9CgkJCQkJCQkJCQkJLmNsb25lZC1hLWNvbnRlbnQtd3JhcHBlciwKCQkJCQkJCQkJCQkuY2xvbmVkLWEtYm9keQkJCQl7IHdpZHRoOiA5NSU7IHRleHQtYWxpZ246IGp1c3RpZnk7IH0KCQkJCQkJCQkJCQkuY2xvbmVkLWgtZmVhdHVyZXMJCQl7IHdpZHRoOiA5NSU7IHBhZGRpbmc6IDNlbSAwZW0gMmVtOyB9CgkJCQkJCQkJCQkJLmNsb25lZC1iLWJvZHkJCQkJeyBtYXJnaW4tYm90dG9tOiAwOyBmb250OiBub3JtYWwgNDAwIDEuMDMxMjVlbS8xLjYzNjM2MzYzNjQgIkRyb2lkIFNhbnMiLEhlbHZldGljYSxzYW5zLXNlcmlmOyBsZXR0ZXItc3BhY2luZzogLTAuMDFlbTsgfQoJCQkJCQkJCQkJCS5jbG9uZWQtYi1jb3B5CQkJCXsgZm9udDogbm9ybWFsIDQwMCAxZW0vMS43MTQyODU3MTQzIERyb2lkIFNhbnMsSGVsdmV0aWNhLHNhbnMtc2VyaWY7IH0KCQkJCQkJCQkJCQkuY2xvbmVkLWItY29weSA+ICogCQkJeyBtYXJnaW4tYm90dG9tOiAxZW07IH0KCQkJCQkJCQkJCQkucmVsYXRlZC5sZWZ0CQkJCXsgd2lkdGg6IDMzJTsgfQoJCQkJCQkJCQkJCWRpdi5kZm0tdHJ1c3QtaW5kaWNhdG9ycy1mb290ZXItbGlua3MgeyBjbGVhcjogYm90aDsgfWA7CgkJCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJpbWFyeScpLnByZXBlbmQoQ09OVEVOVF9FTEVNRU5UKTsKCQkJfQoJCX0KCX0KCWZ1bmN0aW9uIE1ldHJvVUsoKSB7CgkJQ29tbW9uUmVtb3ZhbEl0ZW1zKGRlbGV0ZUlmcmFtZXMpOwoJCWRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbW9sLWZlLWFiLWRpYWxvZycpOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tjbGFzcyo9Im1vbC1hZHMtIl0nKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKSB9KTsKCQlpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2lkKj0ibW9sLWFkcy0iXScpICE9PSBudWxsKSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbaWQqPSJtb2wtYWRzLSJdJykucmVtb3ZlKCk7CgkJY29uc3QgQkxPQ0tFUl9NT0RBTCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tjbGFzcyo9Im92ZXJsYXktMzRfS2oiXScpOwoJCWlmIChCTE9DS0VSX01PREFMICE9PSBudWxsKSBCTE9DS0VSX01PREFMLnBhcmVudE5vZGUucGFyZW50Tm9kZS5yZW1vdmUoKTsKCX0KCWZ1bmN0aW9uIE1pYW1pSGVyYWxkKCkgewoJCUNvbW1vblJlbW92YWxJdGVtcygpOwoJCWNvbnN0IFNFTEVDVE9SID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdicpXS5maWx0ZXIoZWxlbWVudCA9PiBlbGVtZW50LnRleHRDb250ZW50LmluY2x1ZGVzKCd0dXJuIG9mZiB5b3VyIGFkIGJsb2NraW5nIHNvZnR3YXJlJykgKTsKCQlpZiAoU0VMRUNUT1IubGVuZ3RoID4gMCkgU0VMRUNUT1JbMF0ucmVtb3ZlKCk7CgoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tpZCo9VmlkZW9BZF0nKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSkKCX0KCWZ1bmN0aW9uIE5hdGlvbmFsR2VvZ3JhcGhpYygpIHsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmFuY3lib3gtb3ZlcmxheScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpIH0pOwoJCWNvbnN0IFBBWVdBTExfTUVURVIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGF5d2FsbC1tZXRlcicpOwoJCWlmIChQQVlXQUxMX01FVEVSICE9PSBudWxsKSBQQVlXQUxMX01FVEVSLnJlbW92ZSgpOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKS5jbGFzc0xpc3QucmVtb3ZlKCdmYW5jeWJveC1sb2NrJyk7CgkJZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLk1vZGFsLlBheXdhbGxNb2RhbCcpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpIH0pOwoKCQljb25zdCBTVElDS1lfRk9PVEVSID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLkVtYWlsU3RpY2t5Rm9vdGVyX19Nb2RhbCcpOwoJCWlmIChTVElDS1lfRk9PVEVSICE9PSBudWxsKSBTVElDS1lfRk9PVEVSLnBhcmVudE5vZGUucGFyZW50Tm9kZS5yZW1vdmUoKTsKCgkJY29uc3QgSU5KRUNUX01FU1NBR0UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjSW5qZWN0ZWQtQnktQXNzYXNzaW5hdGUtQWQtQmxvY2stQmxvY2tlcnMnKTsKCQlpZiAoSU5KRUNUX01FU1NBR0UgIT09IG51bGwpIElOSkVDVF9NRVNTQUdFLnJlbW92ZSgpOwoKCQljb25zb2xlLmNsZWFyKCk7CgkJY29uc29sZS5sb2coJyVjIPCfmI4gQXNzYXNzaW5hdGUgQWQgQmxvY2sgQmxvY2tlcnMg4oCUIEJsb2NrZXIgY29kZSByZW1vdmVkJywgJ2JhY2tncm91bmQ6ICMwYjgwMWQ7IGNvbG9yOiAjZmZmOycpOwoJfQoJZnVuY3Rpb24gTkJDTmV3cygpIHsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdodG1sJykuc2V0QXR0cmlidXRlKCdzdHlsZScsJycpOwoJCWRvY3VtZW50LmJvZHkuc2V0QXR0cmlidXRlKCdzdHlsZScsJycpOwoKCQljb25zdCBTRUxFQ1RPUiA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdoMycpXS5maWx0ZXIoZWxlbWVudCA9PiBlbGVtZW50LnRleHRDb250ZW50LmluY2x1ZGVzKCdQbGVhc2Ugc3VwcG9ydCBvdXIgam91cm5hbGlzbScpICk7CgkJaWYgKFNFTEVDVE9SLmxlbmd0aCA+IDApIFNFTEVDVE9SWzBdLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGUucmVtb3ZlKCk7Cgl9CglmdW5jdGlvbiBOZXdZb3JrVGltZXMoKSB7CgkJLy8gbnl0aW1lcwoJCWlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuaW5jbHVkZXMoJy9zbGlkZXNob3cvJykpIHsKCQkJaWYgKG9rYXlUb1Byb2Nlc3MpIHsKCQkJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNnYXRld2F5LWNvbnRlbnQnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSkKCQkJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdiNhcHAgPiBkaXYgPiBkaXYgPiBbY2xhc3MqPSJjc3MtIl06bGFzdC1jaGlsZCcpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpIH0pOwoJCQkJb2theVRvUHJvY2VzcyA9IGZhbHNlOwoJCQl9CgkJfSBlbHNlIHsKCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3N0YW5kYWxvbmUtZm9vdGVyJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pCgkJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNnYXRld2F5LWNvbnRlbnQnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSkKCQkJZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywnb3ZlcmZsb3c6IHVuc2V0OycpOwoJCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjc2l0ZS1jb250ZW50JykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzdHlsZScsJ3Bvc2l0aW9uOiB1bnNldDsnKTsgfSkKCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2lkKj0ibGlyZS11aS0iXScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KQoJCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbaWQqPSJzdG9yeS1hZC0iXScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KQoKCQkJLy8gbnl0aW1lcycgY29va2luZwoJCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbY2xhc3MqPSJtb2RhbF9tb2RhbC13aW5kb3ctY29udGFpbmVyIl0nKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZSgpOyB9KQoJCQlkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCcnKTsKCQkJZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywnJyk7CgkJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tjbGFzcyo9Im1hc2tfbm8tc2Nyb2xsIl0nKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywnJyk7IH0pCgkJCWlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubnl0Yy0tLW1vZGFsLXdpbmRvdy0tLXdpbmRvd0NvbnRhaW5lcicpICE9PSBudWxsKSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubnl0Yy0tLW1vZGFsLXdpbmRvdy0tLXdpbmRvd0NvbnRhaW5lcicpLnBhcmVudE5vZGUucGFyZW50Tm9kZS5yZW1vdmUoKTsgLy8gYSBtb2RhbCB3aXRoIG5vIGNsb3NlIGJ1dHRvbj8g8J+YlQoJCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjY29udGFpbmVyJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzdHlsZScsJ292ZXJmbG93OiB1bnNldDsnKTsgfSkKCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm55dGMtLS1tb2RhbC13aW5kb3ctLS1ub1Njcm9sbCcpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCdvdmVyZmxvdzogdW5zZXQ7Jyk7IH0pCgkJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNzaXRlLWNvbnRlbnQnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywnb3ZlcmZsb3c6IHVuc2V0OycpOyB9KQoJCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbY2xhc3MqPSJhZC11bml0Il0nKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSkKCgkJCS8vIG55dGltZXMnIG1hZ2F6aW5lIGFuZCBzaXRlLXdpZGUKCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2NsYXNzKj0iY3NzLW1jbSJdJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzdHlsZScsJ3Bvc2l0aW9uOiB1bnNldDsnKTsgfSkKCgkJCWlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgIT09ICcvJykKCQkJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdiNhcHAgPiBkaXYgPiBkaXYgPiBbY2xhc3MqPSJjc3MtIl06bGFzdC1jaGlsZCcpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpIH0pCgkJfQoJfQoJZnVuY3Rpb24gTllNYWcoKSB7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTsKCQlkb2N1bWVudC5ib2R5LnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjcGF5d2FsbC1yZWFkZXItaW50ZXJmYWNlJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pCgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2NsaWZmLXRha2VvdmVyJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pCgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRlcnRpYXJ5JykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzdHlsZScsJycpOyB9KQoJCUJyZWFrSmF2YVNjcmlwdCgpOwoJfQoJZnVuY3Rpb24gUmV1dGVycygpIHsKCQlDb21tb25SZW1vdmFsSXRlbXMoKTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS10ZXN0aWQ9IkxlYWRlcmJvYXJkIl0nKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSkKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbY2xhc3MqPSJhZC1zbG90Il0nKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSkKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbdGVzdGlkKj0iUmVzcG9uc2l2ZUFkU2xvdCJdJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pCgoJCS8vIGNsb25lIHRoZSBhcnRpY2xlCgkJY29uc3QgQ0xPTkVEX0NPTlRFTlQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluI21haW4tY29udGVudCcpLmNsb25lTm9kZSh0cnVlKTsKCQlDTE9ORURfQ09OVEVOVC5pZCA9ICdtLWNvbnRlbnQnCgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2NsYXNzKj0icmVndWxhci1hcnRpY2xlLWxheW91dF9fY29udGVudCJdJykucHJlcGVuZChDTE9ORURfQ09OVEVOVCk7CgoJCS8vIHJlbW92ZSBvcmlnaW5hbCBlbGVtZW50IHdyYXBwZXIKCQljb25zdCBNQUlOX0VMRU1FTlQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbi1jb250ZW50Jyk7IGlmIChNQUlOX0VMRU1FTlQgIT09IG51bGwpIE1BSU5fRUxFTUVOVC5yZW1vdmUoKTsKCgkJLy8gcmVzdG9yZSBhcnRpY2xlIGltYWdlCgkJbGV0IGFydGljbGVJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1twcm9wZXJ0eT0ib2c6aW1hZ2UiXScpLmdldEF0dHJpYnV0ZSgnY29udGVudCcpOwoJCWFydGljbGVJbWFnZSA9IGAvLyR7IGFydGljbGVJbWFnZS5zbGljZShhcnRpY2xlSW1hZ2UuaW5kZXhPZignY2xvdWRmcm9udC11cy1lYXN0JykpIH1gOwoKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbY2xhc3MqPSJpbWFnZV9fY292ZXJfX18iXScpLmFwcGVuZChPYmplY3QuYXNzaWduKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpLCB7CgkJCXNyYzogYXJ0aWNsZUltYWdlLAoJCQlzdHlsZTogJ21heC13aWR0aDogMTAwJTsgaGVpZ2h0OiBhdXRvOycKCQl9KSk7CgoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tjbGFzcyo9InN0YXRlZnVsLWltYWdlIl0nKS5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2NsYXNzKj0iaW1hZ2VfX2NvdmVyX19fIl0nKS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdGVzdGlkPSJTcGlubmVyIl0nKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSkKCgkJLy8gYnJva2VuIGltYWdlIGdhbGxlcmllcyByZW1vdmVkIGFzIGEgY29tcHJvbWlzZSBmb3IgcmVhZGluZyB0aGUgYXJ0aWNsZSdzIGNvbnRlbnQKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS10ZXN0aWQqPSJwcmltYXJ5LWdhbGxlcnkiXScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KQoJCWNvbnN0IENBUk9VU0VMX0VMRU1FTlQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZXN0aWQ9IkNhcm91c2VsIl0nKTsKCQlpZiAoQ0FST1VTRUxfRUxFTUVOVCAhPT0gbnVsbCkgQ0FST1VTRUxfRUxFTUVOVC5wYXJlbnROb2RlLnBhcmVudE5vZGUucmVtb3ZlKCk7Cgl9CglmdW5jdGlvbiBSb3R0ZW5Ub21hdG9lcygpIHsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdodG1sJykucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpOwoJCWRvY3VtZW50LmJvZHkucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpOwoJCWNvbnN0IFNFTEVDVE9SID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2gzJyldLmZpbHRlcihlbGVtZW50ID0+IGVsZW1lbnQudGV4dENvbnRlbnQuaW5jbHVkZXMoJ1dlbGNvbWUgdG8gUm90dGVuIFRvbWF0b2VzISBQbGVhc2Ugc3VwcG9ydCB1cyBieSBhbGxvd2luZyBhZHMnKSApOwoJCWlmIChTRUxFQ1RPUi5sZW5ndGggPiAwKSBTRUxFQ1RPUlswXS5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLnJlbW92ZSgpOwoJfQoJZnVuY3Rpb24gU0ZDaHJvbmljbGUoKSB7CgkJSEROID0ge307CgkJQ09NU0NPUkUgPSB7fTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzY3JpcHQnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSkKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpZnJhbWUnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSkKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmFuY3lib3gtb3ZlcmxheScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KQoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKS5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCdvdmVyZmxvdzogdW5zZXQ7Jyk7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJjU2xpZGVPdXQnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSkKCQlkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnb3ZlcmZsb3c6IHVuc2V0ICFpbXBvcnRhbnQ7IHBvc2l0aW9uOiB1bnNldDsnKTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmFuY3lib3gtbG9jaycpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2ZhbmN5Ym94LWxvY2snKTsgfSkKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYmNfaGVhZGVyJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pCgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc3R5bGU6bGFzdC1jaGlsZCcpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2lkJykgIT09IG51bGwpIGVsZW1lbnQucmVtb3ZlKCk7IH0pCgl9CglmdW5jdGlvbiBTRkdhdGUoKSB7CgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTsKCQlkb2N1bWVudC5ib2R5LnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTsKCQljb25zdCBTRUxFQ1RPUiA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdoMycpXS5maWx0ZXIoZWxlbWVudCA9PiBlbGVtZW50LnRleHRDb250ZW50LmluY2x1ZGVzKCdXaGl0ZWxpc3QgU0ZHQVRFIHRvIGtlZXAgcmVhZGluZycpICk7CgkJaWYgKFNFTEVDVE9SLmxlbmd0aCA+IDApIFNFTEVDVE9SWzBdLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGUucmVtb3ZlKCk7Cgl9CglmdW5jdGlvbiBWdWx0dXJlKCkgewoJCUNvbW1vblJlbW92YWxJdGVtcyhkZWxldGVJZnJhbWVzKTsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGF5d2FsbC1yZWFkZXItaW50ZXJmYWNlJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pCgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2NsaWZmLXRha2VvdmVyJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pCgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRlcnRpYXJ5JykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzdHlsZScsJycpOyB9KQoJfQoJZnVuY3Rpb24gV2FzaGluZ3RvblBvc3QoaXNMb29wZWQpIHsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdodG1sJykucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpOwoJCWRvY3VtZW50LmJvZHkucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1thcz0ic2NyaXB0Il0nKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSkKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjd2FsbC1ib3R0b20tZHJhd2VyJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pCgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2lkKj0icmVnd2FsbC0iXScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KQoKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1xYSo9InBheXdhbGwiXScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KQoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tyZWwqPSJhcHBsZS10b3VjaC1pY29uIl0nKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSkKCgkJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRlYXNlci1jb250ZW50JykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgndGVhc2VyLWNvbnRlbnQnKTsgfSkKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYXJ0aWNsZS1ib2R5JykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IAoJCQllbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2FydGljbGUtYm9keScpOwoJCQllbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2EtYm9keS1jbG9uZWQnKTsKCQkJZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdncmlkLWJvZHknKTsKCQkJZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtcWEnKTsKCQl9KQoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3BbZGF0YS1xYV0nKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgCgkJCWVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXFhJyk7CgkJCWVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWVsJyk7CgkJCWVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpOwoJCX0pCgoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hLWJvZHktY2xvbmVkJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpOyB9KQoKCQlpZiAodHlwZW9mIGlzTG9vcGVkICE9PSAndW5kZWZpbmVkJykgewoJCQlpZiAoIWlzTG9vcGVkKSB7CgkJCQljb25zdCBDT05URU5UX0VMRU1FTlQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwoJCQkJQ09OVEVOVF9FTEVNRU5ULmlubmVySFRNTCA9IGAuZ3JpZC1ib2R5CQkJeyBtYXgtd2lkdGg6IHVuc2V0OyBmb250LWZhbWlseTogdmFyKC0td3Bkcy1mb250cy1ib2R5KTsgY29sb3I6IHZhcigtLXdwZHMtY29sb3JzLWdyYXk0MCk7IG1hcmdpbjogMDsgcGFkZGluZy1ib3R0b206IHZhcigtLXdwZHMtc3BhY2UtMTUwKTsgbGluZS1oZWlnaHQ6IHZhcigtLXdwZHMtbGluZUhlaWdodHMtMTYwKTsgfQoJCQkJCQkJCQkJCS5hLWJvZHktY2xvbmVkIHAJeyBmb250LXNpemU6IDEuMjVyZW07IG1hcmdpbi1ib3R0b206IDE1cHg7IH1gOwoJCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdyaWQtYm9keScpLnByZXBlbmQoQ09OVEVOVF9FTEVNRU5UKTsKCQkJfQoJCX0KCX0KCWZ1bmN0aW9uIFdpcmVkKCkgewoJCUNsZWFyQ29va2llcygpOwoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYXl3YWxsLWJhci1yZWctZ2F0ZScpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KQoJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tjbGFzcyo9IlBlcnNpc3RlbnRCb3R0b21XcmFwcGVyIl0nKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHsgZWxlbWVudC5yZW1vdmUoKTsgfSkKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbY2xhc3MqPSJTdGlja3lIZXJvQWRXcmFwcGVyLSJdJykuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7IGVsZW1lbnQucmVtb3ZlKCk7IH0pCgl9CgoKCS8vIDQuIFBST0NFU1NJTkcgQU5EIFdSQVAtVVAKCWZ1bmN0aW9uIGRvbVN0YXR1c0NoZWNrKCkgewoJCWlmIChTVEFOREFSRF9ET01BSU5TLmZpbmQodXJsID0+IHVybCA9PT0gVVJMX0hPU1ROQU1FKSkKCQkJU3RhbmRhcmRSZW1vdmFsKCk7CgoJCWlmIChBVVhJTElBUllfRE9NQUlOUy5maW5kKHVybCA9PiB1cmwgPT09IFVSTF9IT1NUTkFNRSkpCgkJewoJCQlzd2l0Y2goVVJMX0hPU1ROQU1FKQoJCQl7CgkJCQljYXNlIERPTUFJTi5HYW1lc1JhZGFyQXV4aWxpYXJ5OgoJCQkJCWlmICh0eXBlb2YgY3VycmVudFN0YXR1czIgIT09ICd1bmRlZmluZWQnKQoJCQkJCQlHYW1lc1JhZGFyKGN1cnJlbnRTdGF0dXMyKTsKCQkJCQllbHNlCgkJCQkJCUdhbWVzUmFkYXIoKTsKCgkJCQkJYnJlYWs7CgkJCX0KCQl9CgoJCWlmIChBQk5PUk1BTF9ET01BSU5TLmZpbmQodXJsID0+IHVybCA9PT0gVVJMX0hPU1ROQU1FKSkKCQl7CgkJCXN3aXRjaChVUkxfSE9TVE5BTUUpCgkJCXsKCQkJCWNhc2UgRE9NQUlOLkJ1c2luZXNzSW5zaWRlcjoJCUJ1c2luZXNzSW5zaWRlcigpOyBicmVhazsKCQkJCWNhc2UgRE9NQUlOLkJ1c2luZXNzSW5zaWRlck1hcmtldHM6CUJ1c2luZXNzSW5zaWRlcigpOyBicmVhazsKCQkJCWNhc2UgRE9NQUlOLkNOQkM6CQkJCQlDTkJDKGlzTG9vcGVkKTsgYnJlYWs7CgkJCQljYXNlIERPTUFJTi5Db21tb25TZW5zZU1lZGlhOiAgICAgICBDb21tb25TZW5zZU1lZGlhKCk7IGJyZWFrOwoJCQkJY2FzZSBET01BSU4uQ3VyYmVkOgkJCQkJQ3VyYmVkKCk7IGZhbHNlOwoJCQkJY2FzZSBET01BSU4uRGFpbHlNYWlsOiAJCQkJRGFpbHlNYWlsKCk7IGJyZWFrOwoJCQkJY2FzZSBET01BSU4uRXVyb0dhbWVyOiAJCQkJRXVyb0dhbWVyKCk7IGJyZWFrOwoJCQkJY2FzZSBET01BSU4uRmFzdENvbXBhbnk6CQkJRmFzdENvbXBhbnkoKTsgYnJlYWs7CgkJCQljYXNlIERPTUFJTi5Gb3J0dW5lOgkJCQlGb3J0dW5lKCk7IGJyZWFrOwoJCQkJY2FzZSBET01BSU4uRm94QnVzaW5lc3M6CQkJRm94QnVzaW5lc3MoKTsgYnJlYWs7CgkJCQljYXNlIERPTUFJTi5Gb3hOZXdzOgkJCQlGb3hOZXdzKCk7IGJyZWFrOwoJCQkJY2FzZSBET01BSU4uRnJlZUNvdXJzZXNPbmxpbmU6CQlGcmVlQ291cnNlc09ubGluZSgpOyBicmVhazsKCQkJCWNhc2UgRE9NQUlOLkdhbWVSYW50OgkJCQlHYW1lUmFudCgpOyBicmVhazsKCQkJCWNhc2UgRE9NQUlOLkluYzogCQkJCQlJbmMoKTsgYnJlYWs7CgkJCQljYXNlIERPTUFJTi5JbnNpZGVyOiAJCQkJSW5zaWRlcigpOyBicmVhazsKCQkJCWNhc2UgRE9NQUlOLkxBVGltZXM6IAkJCQlMQVRpbWVzKCk7IGJyZWFrOwoJCQkJY2FzZSBET01BSU4uTWFrZVVzZU9mOgkJCQlNYWtlVXNlT2YoKTsgYnJlYWs7CgkJCQljYXNlIERPTUFJTi5NZXJjdXJ5TmV3czoJCQlNZXJjdXJ5TmV3cyhpc0xvb3BlZCk7IGJyZWFrOwoJCQkJY2FzZSBET01BSU4uTWV0cm9VSzoJCQkJTWV0cm9VSygpOyBicmVhazsKCQkJCWNhc2UgRE9NQUlOLk1pYW1pSGVyYWxkOgkJCU1pYW1pSGVyYWxkKCk7IGJyZWFrOwoJCQkJY2FzZSBET01BSU4uTkJDTmV3czoJCQkJTkJDTmV3cygpOyBicmVhazsKCQkJCWNhc2UgRE9NQUlOLk5ld1lvcmtUaW1lczoJCQlOZXdZb3JrVGltZXMoKTsgYnJlYWs7CgkJCQljYXNlIERPTUFJTi5OZXdZb3JrVGltZXNDb29raW5nOglOZXdZb3JrVGltZXMoKTsgYnJlYWs7CgkJCQljYXNlIERPTUFJTi5OWU1hZzoJCQkJCU5ZTWFnKCk7IGJyZWFrOwoJCQkJY2FzZSBET01BSU4uUmV1dGVyczoJCQkJUmV1dGVycygpOyBicmVhazsKCQkJCWNhc2UgRE9NQUlOLlJvdHRlblRvbWF0b2VzOgkJCVJvdHRlblRvbWF0b2VzKCk7IGJyZWFrOwoJCQkJY2FzZSBET01BSU4uU0ZHYXRlOgkJCQkJU0ZHYXRlKCk7IGJyZWFrOwoJCQkJY2FzZSBET01BSU4uVGhlQ3V0OgkJCQkJVGhlQ3V0KCk7IGJyZWFrOwoJCQkJY2FzZSBET01BSU4uVGhlR3VhcmRpYW46CQkJVGhlR3VhcmRpYW4oaXNMb29wZWQpOyBicmVhazsKCQkJCWNhc2UgRE9NQUlOLlZ1bHR1cmU6CQkJCVZ1bHR1cmUoKTsgYnJlYWs7CgkJCQljYXNlIERPTUFJTi5XYXNoaW5ndG9uUG9zdDoJCQlXYXNoaW5ndG9uUG9zdChpc0xvb3BlZCk7IGJyZWFrOwoJCQkJY2FzZSBET01BSU4uV2lyZWQ6CQkJCQlXaXJlZCgpOyBicmVhazsKCQkJfQoJCQlpc0xvb3BlZCA9IHRydWU7CgkJfQoKCQlSZW1vdmVIdG1sQ29tbWVudHMoKTsKCX0KCglmdW5jdGlvbiBzbGVkZ2VIYW1tZXJSZW1vdmFsKCkgewoJCWNvbnN0IFJFUEVBVF9JTlRFUlZBTCA9IDE1MDA7IC8vIDEuNSBzZWNvbmRzCgkJc3dpdGNoIChVUkxfSE9TVE5BTUUpCgkJewoJCQljYXNlIERPTUFJTi5UaGVEYWlseUJlYXN0OiAJCVN1Y2Nlc3NSZW1vdmFsTWVzc2FnZSgpOyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBUaGVEYWlseUJlYXN0KCk7IH0sIFJFUEVBVF9JTlRFUlZBTCk7IGJyZWFrOwoJCQljYXNlIERPTUFJTi5Gb3JiZXM6IAkJCVN1Y2Nlc3NSZW1vdmFsTWVzc2FnZSgpOyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBGb3JiZXMoKTsgfSwgUkVQRUFUX0lOVEVSVkFMKTsgYnJlYWs7CgkJCWNhc2UgRE9NQUlOLkhvdXN0b25DaHJvbmljbGU6IAlTdWNjZXNzUmVtb3ZhbE1lc3NhZ2UoKTsgc2V0VGltZW91dChmdW5jdGlvbigpIHsgSG91c3RvbkNocm9uaWNsZSgpOyB9LCBSRVBFQVRfSU5URVJWQUwpOyBicmVhazsKCQkJY2FzZSBET01BSU4uSW5xdWlyZXI6IAkJCVN1Y2Nlc3NSZW1vdmFsTWVzc2FnZSgpOyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBJbnF1aXJlcihpc0xvb3BlZCk7IH0sIFJFUEVBVF9JTlRFUlZBTCk7IGJyZWFrOwoJCQljYXNlIERPTUFJTi5LZWxsZXlCbHVlQm9vazogCVN1Y2Nlc3NSZW1vdmFsTWVzc2FnZSgpOyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBLZWxsZXlCbHVlQm9vaygpOyB9LCBSRVBFQVRfSU5URVJWQUwpOyBicmVhazsKCQkJY2FzZSBET01BSU4uTWVkUGFnZVRvZGF5OiAJCVN1Y2Nlc3NSZW1vdmFsTWVzc2FnZSgpOyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBNZWRQYWdlVG9kYXkoKTsgfSwgUkVQRUFUX0lOVEVSVkFMKTsgYnJlYWs7CgkJCWNhc2UgRE9NQUlOLk5hdGlvbmFsR2VvZ3JhcGhpYzogU3VjY2Vzc1JlbW92YWxNZXNzYWdlKCk7IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IE5hdGlvbmFsR2VvZ3JhcGhpYygpOyB9LCBSRVBFQVRfSU5URVJWQUwpOyBicmVhazsKCQkJY2FzZSBET01BSU4uU0ZDaHJvbmljbGU6IAkJU3VjY2Vzc1JlbW92YWxNZXNzYWdlKCk7IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IFNGQ2hyb25pY2xlKCk7IH0sIFJFUEVBVF9JTlRFUlZBTCk7IGJyZWFrOwoJCX0KCQlpc0xvb3BlZCA9IHRydWU7Cgl9CgoJaWYgKE9rYXlUb1VzZVNsZWRnZUhhbW1lclJlbW92YWwoKSkgc2xlZGdlSGFtbWVyUmVtb3ZhbCgpOwoKCWZ1bmN0aW9uIGRpc3BsYXlNZXNzYWdlKGRvbWFpbikgewoJCXJldHVybiBjb25zb2xlLmxvZyhgJWMg8J+apiBBc3Nhc3NpbmF0ZSBBZCBCbG9jayBCbG9ja2VycyDigJQgQ2xlYXIgaW50ZXJ2YWwgcGFzcyBmb3IgJHsgZG9tYWluIH0gdGhlbiBwYXVzZSBmb3IgYSBmZXcgc2Vjb25kcy4uLmAsICdiYWNrZ3JvdW5kOiAjRkZCRjAxOyBjb2xvcjogIzIyMjsnKTsKCX0KCgkvLyBQZXJpb2RpY2lhbGx5IGNsZWFyIGV2ZXJ5dGhpbmcgYW5kIHBhdXNlIGZvciBhIGZldyBzZWNvbmRzLCB0aGVuIHN0YXJ0IGFnYWluLiBOb3QgYXMgYWdyZWVzaXZlIGFzIFNsZWRnZWhhbW1lciBmdW5jdGlvbgoJZnVuY3Rpb24gY2xlYXJBbGxJbnRlcnZhbHMoKSB7CgkJaWYgKFVSTF9IT1NUTkFNRSA9PT0gRE9NQUlOLlRoZUd1YXJkaWFuKSAKCQkJU3VjY2Vzc1JlbW92YWxNZXNzYWdlKDMwMCk7CgkJZWxzZQoJCQlTdWNjZXNzUmVtb3ZhbE1lc3NhZ2UoKTsKCgkJc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJY29uc29sZS5jbGVhcigpOwoKCQkJaWYgKFVSTF9IT1NUTkFNRSAhPSBET01BSU4uVGhlRGFpbHlCZWFzdCkKCQkJewoJCQkJc3dpdGNoKFVSTF9IT1NUTkFNRSkKCQkJCXsKCQkJCQljYXNlIERPTUFJTi5CdXNpbmVzc0luc2lkZXI6IAkJCWRpc3BsYXlNZXNzYWdlKERPTUFJTi5CdXNpbmVzc0luc2lkZXIpOwkJCUJ1c2luZXNzSW5zaWRlcigpOyBicmVhazsKCQkJCQljYXNlIERPTUFJTi5CdXNpbmVzc0luc2lkZXJNYXJrZXRzOgkJZGlzcGxheU1lc3NhZ2UoRE9NQUlOLkJ1c2luZXNzSW5zaWRlck1hcmtldHMpOwlCdXNpbmVzc0luc2lkZXIoKTsgYnJlYWs7CgkJCQkJY2FzZSBET01BSU4uQ05CQzoJCQkJCQlkaXNwbGF5TWVzc2FnZShET01BSU4uQ05CQyk7CQkJCQlDTkJDKCk7IGJyZWFrOwoJCQkJCWNhc2UgRE9NQUlOLkNvbW1vblNlbnNlTWVkaWE6CQkJZGlzcGxheU1lc3NhZ2UoRE9NQUlOLkNvbW1vblNlbnNlTWVkaWEpOwkJQ29tbW9uU2Vuc2VNZWRpYSgpOyBicmVhazsKCQkJCQljYXNlIERPTUFJTi5DdXJiZWQ6CQkJCQkJZGlzcGxheU1lc3NhZ2UoRE9NQUlOLkN1cmJlZCk7CQkJCQlDdXJiZWQoKTsgYnJlYWs7CgkJCQkJY2FzZSBET01BSU4uQ05OOgkJCQkJCWRpc3BsYXlNZXNzYWdlKERPTUFJTi5DTk4pOwkJCQkJCUNOTigpOyBicmVhazsKCQkJCQljYXNlIERPTUFJTi5UaGVDdXQ6CQkJCQkJZGlzcGxheU1lc3NhZ2UoRE9NQUlOLlRoZUN1dCk7CQkJCQlUaGVDdXQoKTsgYnJlYWs7CgkJCQkJY2FzZSBET01BSU4uRGFpbHlNYWlsOiAJCQkJCWRpc3BsYXlNZXNzYWdlKERPTUFJTi5EYWlseU1haWwpOwkJCQlEYWlseU1haWwoKTsgYnJlYWs7CgkJCQkJY2FzZSBET01BSU4uRXVyb0dhbWVyOiAJCQkJCWRpc3BsYXlNZXNzYWdlKERPTUFJTi5FdXJvR2FtZXIpOwkJCQlFdXJvR2FtZXIoKTsgYnJlYWs7CgkJCQkJY2FzZSBET01BSU4uRmFzdENvbXBhbnk6CQkJCWRpc3BsYXlNZXNzYWdlKERPTUFJTi5GYXN0Q29tcGFueSk7CQkJCUZhc3RDb21wYW55KCk7IGJyZWFrOwoJCQkJCWNhc2UgRE9NQUlOLkZveEJ1c2luZXNzOiAJCQkJZGlzcGxheU1lc3NhZ2UoRE9NQUlOLkZveEJ1c2luZXNzKTsJCQkJRm94QnVzaW5lc3MoKTsgYnJlYWs7CgkJCQkJY2FzZSBET01BSU4uRm94TmV3czogCQkJCQlkaXNwbGF5TWVzc2FnZShET01BSU4uRm94TmV3cyk7CQkJCQlGb3hOZXdzKCk7IGJyZWFrOwoJCQkJCWNhc2UgRE9NQUlOLkZyZWVDb3Vyc2VzT25saW5lOgkJCWRpc3BsYXlNZXNzYWdlKERPTUFJTi5GcmVlQ291cnNlc09ubGluZSk7CQlGcmVlQ291cnNlc09ubGluZSgpOyBicmVhazsKCQkJCQljYXNlIERPTUFJTi5Gb3J0dW5lOiAJCQkJCWRpc3BsYXlNZXNzYWdlKERPTUFJTi5Gb3J0dW5lKTsJCQkJCUZvcnR1bmUoKTsgYnJlYWs7CgkJCQkJY2FzZSBET01BSU4uR2FtZVJhbnQ6IAkJCQkJZGlzcGxheU1lc3NhZ2UoRE9NQUlOLkdhbWVSYW50KTsJCQkJR2FtZVJhbnQoKTsgYnJlYWs7CgkJCQkJY2FzZSBET01BSU4uVGhlR3VhcmRpYW46IAkJCQlkaXNwbGF5TWVzc2FnZShET01BSU4uVGhlR3VhcmRpYW4pOwkJCQlUaGVHdWFyZGlhbihpc0xvb3BlZCk7IGJyZWFrOwoJCQkJCWNhc2UgRE9NQUlOLkluYzogCQkJCQkJZGlzcGxheU1lc3NhZ2UoRE9NQUlOLkluYyk7CQkJCQkJSW5jKCk7IGJyZWFrOwoJCQkJCWNhc2UgRE9NQUlOLkluc2lkZXI6IAkJCQkJZGlzcGxheU1lc3NhZ2UoRE9NQUlOLkluc2lkZXIpOwkJCQkJSW5zaWRlcigpOyBicmVhazsKCQkJCQljYXNlIERPTUFJTi5MQVRpbWVzOiAJCQkJCWRpc3BsYXlNZXNzYWdlKERPTUFJTi5MQVRpbWVzKTsJCQkJCUxBVGltZXMoKTsgYnJlYWs7CgkJCQkJY2FzZSBET01BSU4uTWFrZVVzZU9mOiAJCQkJCWRpc3BsYXlNZXNzYWdlKERPTUFJTi5NYWtlVXNlT2YpOwkJCQlNYWtlVXNlT2YoKTsgYnJlYWs7CgkJCQkJY2FzZSBET01BSU4uTWVyY3VyeU5ld3M6CQkJCWRpc3BsYXlNZXNzYWdlKERPTUFJTi5NZXJjdXJ5TmV3cyk7CQkJCU1lcmN1cnlOZXdzKGlzTG9vcGVkKTsgYnJlYWs7CgkJCQkJY2FzZSBET01BSU4uTWV0cm9VSzogCQkJCQlkaXNwbGF5TWVzc2FnZShET01BSU4uTWV0cm9VSyk7CQkJCQlNZXRyb1VLKCk7IGJyZWFrOwoJCQkJCWNhc2UgRE9NQUlOLk1pYW1pSGVyYWxkOgkJCQlkaXNwbGF5TWVzc2FnZShET01BSU4uTWlhbWlIZXJhbGQpOwkJCQlNaWFtaUhlcmFsZCgpOyBicmVhazsKCQkJCQljYXNlIERPTUFJTi5OQkNOZXdzOiAJCQkJCWRpc3BsYXlNZXNzYWdlKERPTUFJTi5OQkNOZXdzKTsJCQkJCU5CQ05ld3MoKTsgYnJlYWs7CgkJCQkJY2FzZSBET01BSU4uTmV3WW9ya1RpbWVzOiAJCQkJZGlzcGxheU1lc3NhZ2UoRE9NQUlOLk5ld1lvcmtUaW1lcyk7CQkJTmV3WW9ya1RpbWVzKCk7IGJyZWFrOwoJCQkJCWNhc2UgRE9NQUlOLk5ld1lvcmtUaW1lc0Nvb2tpbmc6IAkJZGlzcGxheU1lc3NhZ2UoRE9NQUlOLk5ld1lvcmtUaW1lc0Nvb2tpbmcpOwkJTmV3WW9ya1RpbWVzKCk7IGJyZWFrOwoJCQkJCWNhc2UgRE9NQUlOLk5ZTWFnOgkJCQkJCWRpc3BsYXlNZXNzYWdlKERPTUFJTi5OWU1hZyk7CQkJCQlOWU1hZygpOyBicmVhazsKCQkJCQljYXNlIERPTUFJTi5SZXV0ZXJzOgkJCQkJZGlzcGxheU1lc3NhZ2UoRE9NQUlOLlJldXRlcnMpOwkJCQkJUmV1dGVycygpOyBicmVhazsKCQkJCQljYXNlIERPTUFJTi5Sb3R0ZW5Ub21hdG9lczoKCQkJCQljYXNlIERPTUFJTi5Sb3R0ZW5Ub21hdG9lc0VkaXRvcmlhbDoJZGlzcGxheU1lc3NhZ2UoRE9NQUlOLlJvdHRlblRvbWF0b2VzKTsJCQlSb3R0ZW5Ub21hdG9lcygpOyBicmVhazsKCQkJCQljYXNlIERPTUFJTi5TRkdhdGU6CQkJCQkJZGlzcGxheU1lc3NhZ2UoRE9NQUlOLlNGR2F0ZSk7CQkJCQlTRkdhdGUoKTsgYnJlYWs7CgkJCQkJY2FzZSBET01BSU4uVnVsdHVyZToJCQkJCWRpc3BsYXlNZXNzYWdlKERPTUFJTi5WdWx0dXJlKTsJCQkJCVZ1bHR1cmUoKTsgYnJlYWs7CgkJCQkJY2FzZSBET01BSU4uV2FzaGluZ3RvblBvc3Q6CQkJCWRpc3BsYXlNZXNzYWdlKERPTUFJTi5XYXNoaW5ndG9uUG9zdCk7CQkJV2FzaGluZ3RvblBvc3QoaXNMb29wZWQpOyBicmVhazsKCQkJCQljYXNlIERPTUFJTi5XaXJlZDogCQkJCQkJZGlzcGxheU1lc3NhZ2UoRE9NQUlOLldpcmVkKTsJCQkJCVdpcmVkKCk7IGJyZWFrOwoJCQkJfQoKCQkJCWNsZWFySW50ZXJ2YWwoJ1NsZWRnZWhhbW1lclJlbW92YWwnKTsKCQkJCWNvbnNvbGUubG9nKCclYyDwn5GNIEFzc2Fzc2luYXRlIEFkIEJsb2NrIEJsb2NrZXJzIOKAlCBTbGVkZ2VoYW1tZXIgaW50ZXJ2YWwgY2xlYXJlZCcsICdiYWNrZ3JvdW5kOiAjMGI4MDFkOyBjb2xvcjogI2ZmZjsnKTsKCQkJfQoKCQkJY3VycmVudFN0YXR1czEgPSBjdXJyZW50U3RhdHVzMSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogY3VycmVudFN0YXR1czE7CgkJCWN1cnJlbnRTdGF0dXMyID0gY3VycmVudFN0YXR1czIgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IGN1cnJlbnRTdGF0dXMyOwoJCQljdXJyZW50U3RhdHVzMyA9IGN1cnJlbnRTdGF0dXMzID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBjdXJyZW50U3RhdHVzMzsKCQkJY3VycmVudFN0YXR1czQgPSBjdXJyZW50U3RhdHVzNCA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogY3VycmVudFN0YXR1czQ7CgkJCWN1cnJlbnRTdGF0dXM1ID0gY3VycmVudFN0YXR1czUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IGN1cnJlbnRTdGF0dXM1OwoJCQljdXJyZW50U3RhdHVzNiA9IGN1cnJlbnRTdGF0dXM2ID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBjdXJyZW50U3RhdHVzNjsKCQkJY3VycmVudFN0YXR1czcgPSBjdXJyZW50U3RhdHVzNyA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogY3VycmVudFN0YXR1czc7CgkJCWN1cnJlbnRTdGF0dXM4ID0gY3VycmVudFN0YXR1czggPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IGN1cnJlbnRTdGF0dXM4OwoJCQljdXJyZW50U3RhdHVzOSA9IGN1cnJlbnRTdGF0dXM5ID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBjdXJyZW50U3RhdHVzOTsKCQkJY3VycmVudFN0YXR1czEwID0gY3VycmVudFN0YXR1czEwID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBjdXJyZW50U3RhdHVzMTA7CgkJCUNJID0gQ0kgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IENJOwoKCQkJY29uc29sZS5sb2coJyVjIPCfmI4gQXNzYXNzaW5hdGUgQWQgQmxvY2sgQmxvY2tlcnMg4oCUIEFsbCBpbnRlcnZhbHMgY2xlYXJlZCcsICdiYWNrZ3JvdW5kOiAjMGI4MDFkOyBjb2xvcjogI2ZmZjsnKTsKCgkJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNJbmplY3RlZC1CeS1Bc3Nhc3NpbmF0ZS1BZC1CbG9jay1CbG9ja2VycycpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgeyBlbGVtZW50LnJlbW92ZSgpOyB9KQoJCX0sIDE1MDApOyAvLyBXYWl0IDEuNSBzZWNvbmRzIGZvciB0aGUgc3VjY2VzcyBhbmltYXRpb24gdG8gZmluaXNoCgl9CgogICAgY29uc3QgUFJPQ0VTU0lOR19NRVNTQUdFID0gJ1RoZSBBc3Nhc3NpbmF0ZSBBZCBCbG9jayBCbG9ja2VycyBzY3JpcHQgaXMgZG9pbmcgaXRzIGpvYnMuIFBsZWFzZSB3YWl0IGEgZmV3IHNlY29uZHMuIPCfmqYnOwoKCWlmIChVUkxfSE9TVE5BTUUgPT09IERPTUFJTi5UaGVHdWFyZGlhbikKCQlTdGFydGluZ1JlbW92YWxNZXNzYWdlKFBST0NFU1NJTkdfTUVTU0FHRSwgMzAwKTsKCWVsc2UKCQlTdGFydGluZ1JlbW92YWxNZXNzYWdlKFBST0NFU1NJTkdfTUVTU0FHRSk7CgogICAgLy8gU2V0cyB1cCBsaXN0ZW5lcnMgdG8gc3VwZXJjZWRlIGFueSBibG9ja2VyIHNoZW5hbmlnYW5zCiAgICBpZiAoU1RBTkRBUkRfRE9NQUlOUy5maW5kKHVybCA9PiB1cmwgPT09IFVSTF9IT1NUTkFNRSkpIAljdXJyZW50U3RhdHVzMSA9IHNldFRpbWVvdXQoZG9tU3RhdHVzQ2hlY2ssIDUwKTsgCS8vIGRlZXBzY2FuLWRpc2FibGUtbGluZQogICAgaWYgKEFVWElMSUFSWV9ET01BSU5TLmZpbmQodXJsID0+IHVybCA9PT0gVVJMX0hPU1ROQU1FKSkgCWN1cnJlbnRTdGF0dXMyID0gc2V0VGltZW91dChkb21TdGF0dXNDaGVjaywgNTApOwkvLyBkZWVwc2Nhbi1kaXNhYmxlLWxpbmUKCiAgICAvLyBTZWNvbmQgcGFzcyBhZnRlciAxLjUgc2Vjb25kcwogICAgaWYgKFNUQU5EQVJEX0RPTUFJTlMuZmluZCh1cmwgPT4gdXJsID09PSBVUkxfSE9TVE5BTUUpKSAJY3VycmVudFN0YXR1czMgPSBzZXRUaW1lb3V0KGRvbVN0YXR1c0NoZWNrLCAxNTAwKTsJLy8gZGVlcHNjYW4tZGlzYWJsZS1saW5lCiAgICBpZiAoQUJOT1JNQUxfRE9NQUlOUy5maW5kKHVybCA9PiB1cmwgPT09IFVSTF9IT1NUTkFNRSkpIAljdXJyZW50U3RhdHVzNCA9IHNldFRpbWVvdXQoZG9tU3RhdHVzQ2hlY2ssIDE1MDApOwkvLyBkZWVwc2Nhbi1kaXNhYmxlLWxpbmUKCiAgICAvLyBUaGlyZCBwYXNzIGFmdGVyIDIuNSBzZWNvbmRzCiAgICBpZiAoU1RBTkRBUkRfRE9NQUlOUy5maW5kKHVybCA9PiB1cmwgPT09IFVSTF9IT1NUTkFNRSkpCQljdXJyZW50U3RhdHVzNSA9IHNldFRpbWVvdXQoZG9tU3RhdHVzQ2hlY2ssIDI1MDApOwkvLyBkZWVwc2Nhbi1kaXNhYmxlLWxpbmUKICAgIGlmIChBQk5PUk1BTF9ET01BSU5TLmZpbmQodXJsID0+IHVybCA9PT0gVVJMX0hPU1ROQU1FKSkJCWN1cnJlbnRTdGF0dXM2ID0gc2V0VGltZW91dChkb21TdGF0dXNDaGVjaywgMjUwMCk7CS8vIGRlZXBzY2FuLWRpc2FibGUtbGluZQoKICAgIC8vIEZvdXJ0aCBwYXNzIGFmdGVyIDUuNSBzZWNvbmRzCiAgICBpZiAoU1RBTkRBUkRfRE9NQUlOUy5maW5kKHVybCA9PiB1cmwgPT09IFVSTF9IT1NUTkFNRSkpCQljdXJyZW50U3RhdHVzNyA9IHNldFRpbWVvdXQoZG9tU3RhdHVzQ2hlY2ssIDU1MDApOwkvLyBkZWVwc2Nhbi1kaXNhYmxlLWxpbmUKICAgIGlmIChBQk5PUk1BTF9ET01BSU5TLmZpbmQodXJsID0+IHVybCA9PT0gVVJMX0hPU1ROQU1FKSkJCWN1cnJlbnRTdGF0dXM4ID0gc2V0VGltZW91dChkb21TdGF0dXNDaGVjaywgNTUwMCk7CS8vIGRlZXBzY2FuLWRpc2FibGUtbGluZQoKICAgIC8vIEZpZnRoIHBhc3MgYWZ0ZXIgNyBzZWNvbmRzCiAgICBpZiAoU1RBTkRBUkRfRE9NQUlOUy5maW5kKHVybCA9PiB1cmwgPT09IFVSTF9IT1NUTkFNRSkpCQljdXJyZW50U3RhdHVzOSA9IHNldFRpbWVvdXQoZG9tU3RhdHVzQ2hlY2ssIDcwMDApOwkvLyBkZWVwc2Nhbi1kaXNhYmxlLWxpbmUKICAgIGlmIChBQk5PUk1BTF9ET01BSU5TLmZpbmQodXJsID0+IHVybCA9PT0gVVJMX0hPU1ROQU1FKSkJCWN1cnJlbnRTdGF0dXMxMCA9IHNldFRpbWVvdXQoZG9tU3RhdHVzQ2hlY2ssIDcwMDApOwkvLyBkZWVwc2Nhbi1kaXNhYmxlLWxpbmUKCiAgICAvLyBMYXN0LXBhc3MgZ3VhcmFudGVlIGFmdGVyIDcuMDUgc2Vjb25kcyAoV2Ugd2FudCB0aGlzIHRvIGZpcmUgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGZpZnRoIHBhc3MpCiAgICBsZXQgQ0kgPSBzZXRUaW1lb3V0KGNsZWFyQWxsSW50ZXJ2YWxzLCA3MDUwKTsKCiAgICAvLyBQZXJwZXR1YWwgY2hlY2sgYW5kIHJlbW92YWwgZXZlcnkgMi41IHNlY29uZHMgLSBUaGUgUGV0ZXIgR2FicmllbCBTbGVkZ2VoYW1tZXIgU3BlY2lhbAoJaWYgKE9rYXlUb1VzZVNsZWRnZUhhbW1lclJlbW92YWwoKSkgc2V0SW50ZXJ2YWwoc2xlZGdlSGFtbWVyUmVtb3ZhbCwgMjUwMCk7CgogICAgY29uc29sZS5jbGVhcigpOwp9Cg=="},{"name":"Bloomberg Paywall Killer","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.bloomberg.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1644010748001,"data":{}},"enabled":true,"position":7,"uuid":"85790ac0-89a2-47ec-813d-e340de5cea32","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBCbG9vbWJlcmcgUGF5d2FsbCBLaWxsZXIKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL3d3dy5ibG9vbWJlcmcuY29tLyoKLy8gQHZlcnNpb24gICAgICAwLjEKLy8gQGRlc2NyaXB0aW9uICBJbnRlcm1pdHRlbnRseSBudWtlcyB0aGVpciBtb2RhbC9iYWNrZHJvcCB0aGV5IHB1dCB1cAovLyBAYXV0aG9yICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9CcmljZVNoYXR6ZXIKLy8gQG1hdGNoICAgICAgICBodHRwczovL3d3dy5ibG9vbWJlcmcuY29tLyoKLy8gQGdyYW50ICAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKCihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHdpbmRvdy5vbmxvYWQgPSAoKSA9PiB7CiAgICAgICAgc2V0VGltZW91dCgoKT0+ewogICAgICAgICAgICBsZXQgaGFzRmlyZWQgPSBmYWxzZTsKICAgICAgICAgICAgY29uc3QgdGhlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKT0+cmVtb3ZlUGF5d2FsbChoYXNGaXJlZCksMzUwKTsKICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlUGF5d2FsbChzdGF0dXMpewogICAgICAgICAgICAgICAgaWYgKCFzdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyYXBoaWNzLXBheXdhbGwtb3ZlcmxheScpOwogICAgICAgICAgICAgICAgICAgIGlmIChvdmVybGF5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J3Vuc2V0JzsKICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG92ZXJsYXkpOwogICAgICAgICAgICAgICAgICAgICAgICBoYXNGaXJlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhlSW50ZXJ2YWwpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sMjUwKTsKICAgIH0KfSkoKTs="},{"name":"Chicago Suntimes Paywall Killer","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://chicago.suntimes.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1644010759789,"data":{}},"enabled":true,"position":8,"uuid":"1066e8a8-50e6-4874-a028-1fdd5c18fd21","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBDaGljYWdvIFN1bnRpbWVzIFBheXdhbGwgS2lsbGVyCi8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly9jaGljYWdvLnN1bnRpbWVzLmNvbS8qCi8vIEB2ZXJzaW9uICAgICAgMC4xCi8vIEBkZXNjcmlwdGlvbiAgSW50ZXJtaXR0ZW50bHkgbnVrZXMgdGhlaXIgbW9kYWwvYmFja2Ryb3AgdGhleSBwdXQgdXAKLy8gQGF1dGhvciAgICAgICBodHRwczovL2dpdGh1Yi5jb20vQnJpY2VTaGF0emVyCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly9jaGljYWdvLnN1bnRpbWVzLmNvbS8qCi8vIEBncmFudCAgICAgICAgbm9uZQovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCl7CiAgICAgICAgdmFyIG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRwLW1vZGFsJyk7CiAgICAgICAgdmFyIG92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHAtYmFja2Ryb3AnKTsKICAgICAgICB2YXIgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTsKICAgICAgICBvdmVybGF5LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQob3ZlcmxheSk7CiAgICAgICAgbW9kYWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtb2RhbCk7CiAgICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCd0cC1tb2RhbC1vcGVuJyk7CiAgICB9LCAyNTAwKTsKfSkoKTs="},{"name":"Crain's Paywall Avoider","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.chicagobusiness.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1644010770715,"data":{}},"enabled":true,"position":9,"uuid":"8c866d27-b736-4790-b9f2-7f1b827954ef","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBDcmFpbidzIFBheXdhbGwgQXZvaWRlcgovLyBAbmFtZXNwYWNlICAgIGh0dHBzOi8vd3d3LmNoaWNhZ29idXNpbmVzcy5jb20vCi8vIEB2ZXJzaW9uICAgICAgMC4yCi8vIEBkZXNjcmlwdGlvbiAgbnVrZXMgdGhlaXIgcGF5d2FsbAovLyBAYXV0aG9yICAgICAgIGh0dHA6Ly9naXRodWIuY29tL0JyaWNlU2hhdHplcgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vd3d3LmNoaWNhZ29idXNpbmVzcy5jb20vKgovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB3aW5kb3cub25sb2FkID0gKCkgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCk9PnsKICAgICAgICAgICAgbGV0IGhhc0ZpcmVkID0gZmFsc2U7CiAgICAgICAgICAgIGNvbnN0IHRoZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCk9PnJlbW92ZVBheXdhbGwoaGFzRmlyZWQpLDM1MCk7CiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZVBheXdhbGwoc3RhdHVzKXsKICAgICAgICAgICAgICAgIGlmICghc3RhdHVzKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHAtbW9kYWwnKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBiYWNrZHJvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50cC1iYWNrZHJvcCcpOwogICAgICAgICAgICAgICAgICAgIGlmIChtb2RhbCAmJiBiYWNrZHJvcCkgewogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3RwLW1vZGFsLW9wZW4nKQogICAgICAgICAgICAgICAgICAgICAgICBtb2RhbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG1vZGFsKTsKICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3AucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiYWNrZHJvcCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0ZpcmVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGVJbnRlcnZhbCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwyNTApOwogICAgfQp9KSgpOw=="},{"name":"Twitter Advance Search Link","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://twitter.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1644010844286,"data":{}},"enabled":true,"position":10,"uuid":"ad788039-71ff-49f8-8b33-4361220e5329","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBUd2l0dGVyIEFkdmFuY2UgU2VhcmNoIExpbmsKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdHdpdHRlci5jb20vCi8vIEB2ZXJzaW9uICAgICAgMC4zCi8vIEBkZXNjcmlwdGlvbiAgdHJ5IHRvIHRha2Ugb3ZlciB0aGUgd29ybGQhCi8vIEBhdXRob3IgICAgICAgaHR0cDovL2dpdGh1Yi5jb20vQnJpY2VTaGF0emVyCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly90d2l0dGVyLmNvbS8qCi8vIEBncmFudCAgICAgICAgbm9uZQovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHdpbmRvdy5vbmxvYWQgPSAoKSA9PiB7CiAgICAgICAgZGlkV2VHZXROYXZZZXQoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ25hdicpWzBdKTsKCgogICAgICAgIGZ1bmN0aW9uIGRpZFdlR2V0TmF2WWV0KHZhbHVlKXsKICAgICAgICAgICAgaWYgKHZhbHVlKXsKICAgICAgICAgICAgICAgIGxldCBuYXYgPSB2YWx1ZTsKICAgICAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgICAgICAgICBsaW5rLnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInCiAgICAgICAgICAgICAgICBsaW5rLnN0eWxlLmZvbnRXZWlnaHQgPSAnNzAwJzsKICAgICAgICAgICAgICAgIGxpbmsuc3R5bGUuY29sb3IgPSAncmdiYSgyOSwxNjEsMjQyLDEuMDApJzsKICAgICAgICAgICAgICAgIGxpbmsuc3R5bGUudGV4dERlY29yYXRpb24gPSAnbm9uZSc7CiAgICAgICAgICAgICAgICBsaW5rLmhyZWYgPSAnaHR0cHM6Ly90d2l0dGVyLmNvbS9zZWFyY2gtYWR2YW5jZWQnOwogICAgICAgICAgICAgICAgbGluay5pbm5lckhUTUwgPSAn8J+UjSBBZHZhbmNlIFNlYXJjaCc7CiAgICAgICAgICAgICAgICBuYXYuaW5zZXJ0QmVmb3JlKGxpbmssIG5hdi5maXJzdENoaWxkKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsgc2V0VGltZW91dCgoKT0+eyBkaWRXZUdldE5hdllldChkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbmF2JylbMF0pOyB9LCAxMjAwKTt9CiAgICAgICAgfQogICAgfQp9KSgpOw=="},{"name":"Add link to hourly view on RescueTime","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.rescuetime.com/dashboard?*","https://www.rescuetime.com/dashboard/for/the/day/of/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1644873232774,"data":{}},"enabled":true,"position":11,"uuid":"63fb157f-fdef-446c-8288-7b88f8d61832","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBBZGQgbGluayB0byBob3VybHkgdmlldyBvbiBSZXNjdWVUaW1lCi8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly93d3cucmVzY3VldGltZS5jb20vZGFzaGJvYXJkCi8vIEB2ZXJzaW9uICAgICAgMC4xCi8vIEBkZXNjcmlwdGlvbiAgSW5qZWN0IGEgbGluayB0byB0aGUgaG91cmx5IHZpZXcgb24gdGhlIFJlc2N1ZVRpbWUgZGFzaGJvYXJkIHBhZ2VzLgovLyBAYXV0aG9yICAgICAgIGh0dHA6Ly9naXRodWIuY29tL0JyaWNlU2hhdHplcgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vd3d3LnJlc2N1ZXRpbWUuY29tL2Rhc2hib2FyZD8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly93d3cucmVzY3VldGltZS5jb20vZGFzaGJvYXJkL2Zvci90aGUvZGF5L29mLyoKLy8gQGdyYW50ICAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQovKiBqc2hpbnQgLVcwOTcgKi8KJ3VzZSBzdHJpY3QnOwoKdmFyIHBhdGggPSBkb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZQp2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKdmFyIGRhdGUgPSAnJzsKCmZ1bmN0aW9uIHBhcnNlT3V0RGF0ZShzdHJpbmcpewogICAgcmV0dXJuIHN0cmluZy5zdWJzdHJpbmcoc3RyaW5nLmxhc3RJbmRleE9mKCcvJykrMSk7Cn0KCgppZiAoIC9kYXNoYm9hcmRcL2ZvclwvdGhlXC9kYXlcL29mLy50ZXN0LnBhdGggKXsKICAgIGRhdGUgPSBwYXJzZU91dERhdGUocGF0aCk7Cn0gZWxzZSB7CiAgICBkYXRlID0gcGFyc2VPdXREYXRlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkYXNoYm9hcmQtb3ZlcnZpZXctbGlzdCBhJykuaHJlZik7Cn0KLy9zZXQgbGluayBhdHRyaWJ1dGVzCmxpbmsuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdTZWUgSG91cmx5IE92ZXJ2aWV3JykgKQpsaW5rLnN0eWxlPSAnZm9udC13ZWlnaHQ6Ym9sZDsnKwogICAgICAgICAgICAnZm9udC1zaXplOjIwcHg7JysKICAgICAgICAgICAgJ21hcmdpbi1sZWZ0OiAyMHB4OycrCiAgICAgICAgICAgICdwYWRkaW5nOjEwcHg7JysKICAgICAgICAgICAgJ2NvbG9yOiAjODg4OycrCiAgICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOycrCiAgICAgICAgICAgICdib3JkZXItcmFkaXVzOiAzcHg7JysKICAgICAgICAgICAgJ2JvcmRlcjpzb2xpZCAxcHggIzYzNzc4NzsnCmxpbmsuaHJlZj0gJ2h0dHBzOi8vd3d3LnJlc2N1ZXRpbWUuY29tL2Jyb3dzZS9vdmVydmlldy9ieS9ob3VyL2Zvci90aGUvZGF5L29mLycrZGF0ZTsKCgpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGFnZS1jb250ZW50LWhlYWRlciBoMScpLmFwcGVuZENoaWxkKGxpbmspOwo="},{"name":"Google Calendar Weekend Highlighter & Import Link","options":{"check_for_updates":false,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://calendar.google.com/calendar/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null},"storage":{"ts":1645646269476,"data":{}},"enabled":true,"position":12,"uuid":"e067f110-ddf5-4a76-bd29-536cb3e4f662","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBHb29nbGUgQ2FsZW5kYXIgV2Vla2VuZCBIaWdobGlnaHRlciAmIEltcG9ydCBMaW5rCi8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly9jYWxlbmRhci5nb29nbGUuY29tCi8vIEB2ZXJzaW9uICAgICAgMC4zCi8vIEBkZXNjcmlwdGlvbiAgSGlnaGxpZ2h0cyB0aGUgd2Vla2VuZCBpbiBtb250aCB2aWV3ICYgYWRkcyBhIGxpbmsgaW4gdGhlIHRvb2xiYXIgdG8gaW1wb3J0IHBhZ2UgZm9yIC5pY3MgZmlsZXMKLy8gQGF1dGhvciAgICAgICBodHRwOi8vYnJpY2VzaGF0emVyLmNvbQovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vY2FsZW5kYXIuZ29vZ2xlLmNvbS9jYWxlbmRhci8qCi8vIEBpY29uICAgICAgICAgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zMi9mYXZpY29ucz9zej02NCZkb21haW49Z29vZ2xlLmNvbQovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CgovLyBXZWVrZW5kIEhpZ2hsaWdodGVyCiAgICBjb25zdCByb3cgPSAnZGl2W3JvbGU9InJvdyJdJzsKICAgIGNvbnN0IGhlYWRlclNlbGVjdG9yID0gYCR7cm93fT5kaXZbcm9sZT0iY29sdW1uaGVhZGVyIl06bnRoLW9mLXR5cGUobis3KWA7CiAgICBjb25zdCBkYXlTZWxlY3RvciA9IGAke3Jvd30+ZGl2PmRpdjpudGgtb2YtdHlwZShuKzYpYDsKICAgIGNvbnN0IHN0eWxlID0gJ2JhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDUwLCAuMjUpICFpbXBvcnRhbnQ7JzsKICAgIGNvbnN0IGNzcyA9IGAKICAgICAgJHtoZWFkZXJTZWxlY3Rvcn0sCiAgICAgICR7ZGF5U2VsZWN0b3J9IHsKICAgICAgICAke3N0eWxlfQogICAgICB9YDsKCiAgICBjb25zdCBoZWFkID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdOwogICAgbGV0IHN0eWxlVGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgIHN0eWxlVGFnLnR5cGUgPSAidGV4dC9jc3MiOwogICAgc3R5bGVUYWcuaWQgPSAidGFyZ2V0IjsKCiAgICBzdHlsZVRhZy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTsKICAgIGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVUYWcpOwoKLy8gSW1wb3J0IExpbmsKICAgIGNvbnN0IHNlYXJjaExpbms9Wy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvblthcmlhLWxhYmVsPSJTZWFyY2giXScpXS5hdCgtMSk7CiAgICBjb25zdCBpbXBvcnRMaW5rID0gY3JlYXRlRWxlbWVudEZyb21IVE1MKCc8YSBocmVmPSJodHRwczovL2NhbGVuZGFyLmdvb2dsZS5jb20vY2FsZW5kYXIvdS8wL3Ivc2V0dGluZ3MvZXhwb3J0Ij48aSBjbGFzcz0iZ29vZ2xlLW1hdGVyaWFsLWljb25zIG1laDRmYyBoZ2dQcSBDSjk0NyIgYXJpYS1oaWRkZW49InRydWUiPmZpbGVfdXBsb2FkPC9pPjwvYT4nKTsKICAgIHNlYXJjaExpbmsucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucHJlcGVuZChpbXBvcnRMaW5rKQogICAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudEZyb21IVE1MKGh0bWxTdHJpbmcpIHsKICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgZGl2LmlubmVySFRNTCA9IGh0bWxTdHJpbmcudHJpbSgpOwogICAgICAgIC8vIENoYW5nZSB0aGlzIHRvIGRpdi5jaGlsZE5vZGVzIHRvIHN1cHBvcnQgbXVsdGlwbGUgdG9wLWxldmVsIG5vZGVzLgogICAgICAgIHJldHVybiBkaXYuZmlyc3RDaGlsZDsKICAgIH0KCn0pKCk7"},{"name":"Grainger - Fix Old Jira Ticket Links","options":{"check_for_updates":false,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://bitbucket.org/wwgrainger/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1645734868549,"data":{}},"enabled":true,"position":13,"uuid":"97c2693c-9c1a-4031-8861-b7a6a73cfa3c","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBHcmFpbmdlciAtIEZpeCBPbGQgSmlyYSBUaWNrZXQgTGlua3MKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL2JpdGJ1Y2tldC5vcmcvd3dncmFpbmdlci8KLy8gQHZlcnNpb24gICAgICAwLjMKLy8gQGRlc2NyaXB0aW9uICBsb29rcyBmb3IgYW5kIHVwZGF0ZXMgb2xkIEppcmEgdGlja2V0IGxpbmtzCi8vIEBhdXRob3IgICAgICAgaHR0cDovL2JyaWNlc2hhdHplci5jb20KLy8gQG1hdGNoICAgICAgICBodHRwczovL2JpdGJ1Y2tldC5vcmcvd3dncmFpbmdlci8qCi8vIEBpY29uICAgICAgICAgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zMi9mYXZpY29ucz9zej02NCZkb21haW49Yml0YnVja2V0Lm9yZwovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CgogICAgY29uc29sZS5sb2coJ+CyoF/gsqAgLSBUTVNjcmlwdCAtIEZpeCBPbGQgSmlyYSBUaWNrZXQgTGlua3MnKTsKCiAgICBmdW5jdGlvbiBnZXRBbmRTZXRMaW5rcygpIHsKICAgICAgICBjb25zdCBqaXJhTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhW2hyZWZePSJodHRwczovL2ppcmEuZ3JhaW5nZXIuY29tIl0sYVtocmVmXj0iaHR0cHM6Ly9qaXJhLXFhLmdyYWluZ2VyLmNvbS8iXScpOwogICAgICAgIGNvbnN0IHdlaXJkb0xpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYVtocmVmXj0iaHR0cHM6Ly9wcmxqaXJhcDAwMy5nY29tLmdyYWluZ2VyIl0nKTsKICAgICAgICBjb25zdCBsaW5rcyA9IFsKICAgICAgICAgICAgLi4uamlyYUxpbmtzLAogICAgICAgICAgICAuLi53ZWlyZG9MaW5rcwogICAgICAgIF0KCiAgICAgICAgaWYobGlua3MubGVuZ3RoKXsKICAgICAgICAgICAgbGlua3MuZm9yRWFjaCgoZWwpPT57CiAgICAgICAgICAgICAgICBjb25zdCB0aWNrZXQgPSBlbC5ocmVmLm1hdGNoKC9bQS1aXSotXGQqJC8pWzBdCiAgICAgICAgICAgICAgICBlbC5ocmVmID0gYGh0dHBzOi8vZ3JhaW5nZXIuYXRsYXNzaWFuLm5ldC9icm93c2UvJHt0aWNrZXR9YDsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+Z2V0QW5kU2V0TGlua3MoKSwgNzUwKTsKICAgICAgICB9CgogICAgfQoKfSkoKTs="},{"name":"Github Gist Upgrades","options":{"check_for_updates":false,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://gist.github.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1646256074295,"data":{}},"enabled":true,"position":14,"uuid":"abb47f28-4cf1-40ad-a03d-0b0ed00bd421","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBHaXRodWIgR2lzdCBVcGdyYWRlcwovLyBAbmFtZXNwYWNlICAgIGdpc3QuZ2l0aHViLmNvbQovLyBAdmVyc2lvbiAgICAgIDAuMwovLyBAZGVzY3JpcHRpb24gIE1ha2luZyBHaXRodWIncyBnaXN0IHNpdGUgZWFzaWVyIHRvIHVzZQovLyBAYXV0aG9yICAgICAgIGh0dHBzOi8vYnJpY2VzaGF0emVyLmNvbQovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tLyoKLy8gQGljb24gICAgICAgICBodHRwczovL3d3dy5nb29nbGUuY29tL3MyL2Zhdmljb25zP3N6PTY0JmRvbWFpbj1naXRodWIuY29tCi8vIEBncmFudCAgICAgICAgbm9uZQovLyA9PS9Vc2VyU2NyaXB0PT0KKGZ1bmN0aW9uKCkgewondXNlIHN0cmljdCc7Cgpjb25zdCBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCduYXYnKTsKY29uc3QgcGF0aG5hbWUgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7CgpuYXYucXVlcnlTZWxlY3RvcignYVtocmVmPSJodHRwczovL2dpdGh1Yi5jb20iXScpLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnbWFyZ2luLXJpZ2h0OiA4cHggIWltcG9ydGFudCcpOwoKY29uc3Qgc2VhcmNoTGluayA9IG1ha2VIZWFkZXJMaW5rKCdTZWFyY2ggTXkgR2lzdHMnLCdodHRwczovL2dpc3QuZ2l0aHViLmNvbS9zZWFyY2g/cT11c2VyJTNBQnJpY2VTaGF0emVyJyk7CnNlYXJjaExpbmsuc3R5bGUuYm9yZGVyTGVmdCA9ICIxcHggc29saWQgI2ZmZiI7CnNlYXJjaExpbmsuc3R5bGUucGFkZGluZ0xlZnQgPSAiOHB4IjsKY29uc3QgYWxsR2lzdHNMaW5rID0gbWFrZUhlYWRlckxpbmsoJ0FsbCBNeSBHaXN0cycsJ2h0dHBzOi8vZ2lzdC5naXRodWIuY29tL0JyaWNlU2hhdHplcicpOwpuYXYuYXBwZW5kKHNlYXJjaExpbmssIGFsbEdpc3RzTGluayk7Cgpjb25zdCBwcmV0dHlMaW5rID0gKCgpID0+IHsKICAgIGxldCBzdHIgPSBbLi4ucGF0aG5hbWVdOwogICAgc3RyLnNwbGljZSgxLDAsJ0AnKQoKICAgIGxldCBsaW5rID0gbWFrZUxpbmsoJ1ByZXR0eVBhZ2UnLCdodHRwczovL2dpc3QuaW8nICsgc3RyLmpvaW4oJycpKTsKICAgIGxpbmsuY2xhc3NOYW1lID0gJ2J0biBidG4tc20nOwogICAgbGluay50YXJnZXQgPSAnX2JsYW5rJzsKCiAgICBsZXQgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpOwogICAgbGkuYXBwZW5kKGxpbmspOwogICAgcmV0dXJuIGxpOwp9KSgpOwpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd1bC5wYWdlaGVhZC1hY3Rpb25zJykucHJlcGVuZChwcmV0dHlMaW5rKQoKZnVuY3Rpb24gbWFrZUhlYWRlckxpbmsodGV4dCwgaHJlZikgewogICAgbGV0IGVsID0gbWFrZUxpbmsodGV4dCxocmVmKTsKICAgIGVsLmNsYXNzTmFtZSA9ICdIZWFkZXItbGluayc7CiAgICBlbC5zdHlsZS5tYXJnaW5SaWdodCA9ICIxNnB4IjsKICAgIHJldHVybiBlbDsKfQpmdW5jdGlvbiBtYWtlTGluayh0ZXh0LCBocmVmKXsKICAgIGxldCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgIGVsLmlubmVyVGV4dCA9IHRleHQ7CiAgICBlbC5ocmVmID0gaHJlZjsKICAgIHJldHVybiBlbDsKfQoKaWYgKHBhdGhuYW1lID09PSAnL3NlYXJjaCcpIHsKICAgIGxldCBpbmZvTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgIGluZm9MaW5rLmhyZWYgPSAnaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vQnJpY2VTaGF0emVyLzg2ODMyYWI0Y2NmYmQzMjIwNDY4Y2IzYzA0NWRhZDVjJzsKICAgIGluZm9MaW5rLnRhcmdldCA9ICdfYmxhbmsnOwogICAgaW5mb0xpbmsuc2V0QXR0cmlidXRlKCdzdHlsZScsYAogICAgY29sb3I6ICMyNDI5MmY7CiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICBgKTsKICAgIGluZm9MaW5rLmlubmVyVGV4dCA9ICcg4o2wJyAvLyfinZQnOwogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbGFiZWxbZm9yPSJzZWFyY2gtcXVlcnkiXScpLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoaW5mb0xpbmspOwovKgogICAgdmFyIG5vdGVzRWxlbWVudCA9ICcnOwogICAgZmV0Y2goJ2h0dHBzOi8vZ2lzdC5naXRodWIuY29tL0JyaWNlU2hhdHplci84NjgzMmFiNGNjZmJkMzIyMDQ2OGNiM2MwNDVkYWQ1YycpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAvLyBUaGUgQVBJIGNhbGwgd2FzIHN1Y2Nlc3NmdWwhCiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTsKICAgIH0pLnRoZW4oZnVuY3Rpb24oaHRtbCkgewogICAgICAgIHZhciBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgICAgdmFyIGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoaHRtbCwgJ3RleHQvaHRtbCcpOwogICAgICAgIHZhciBob3VzZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcHBsaWNhdGlvbi1tYWluJykKICAgICAgICBub3Rlc0VsZW1lbnQgPSBkb2MuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGUtc2VhcmNoLW15LWdpc3RzLW1kLXJlYWRtZScpOwogICAgICAgIG5vdGVzRWxlbWVudC5jbGFzc05hbWUgPSAiZmlsZSI7CiAgICAgICAgbm90ZXNFbGVtZW50LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgCiAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgIHRvcDowOwogICAgICAgIGxlZnQ6MDsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOndoaXRlOwogICAgICAgIHBhZGRpbmc6IDE2cHg7CiAgICAgICAgbWF4LXdpZHRoOiAzM3Z3OwogICAgICAgIHRyYW5zZm9ybTogc2NhbGUoLjc1KTsKICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0IHRvcDsKICAgICAgICBgKTsKICAgICAgICBob3VzZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7CiAgICAgICAgaG91c2UuYXBwZW5kQ2hpbGQobm90ZXNFbGVtZW50KQovLyAgICAgICAgY29uc29sZS5sb2cobm90ZXNFbGVtZW50KTsKCiAgICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHsKICAgICAgICAvLyBUaGVyZSB3YXMgYW4gZXJyb3IKICAgICAgICBjb25zb2xlLndhcm4oJ1NvbWV0aGluZyB3ZW50IHdyb25nLicsIGVycik7CiAgICB9KTsKKi8KfQp9KSgpOw=="},{"name":"Robinhood - log stocks to console","options":{"check_for_updates":false,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://robinhood.com/"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1647366608045,"data":{}},"enabled":true,"position":15,"uuid":"6b2c66cc-5167-40b6-bdd6-7536e9656b08","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBSb2Jpbmhvb2QgLSBsb2cgc3RvY2tzIHRvIGNvbnNvbGUKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL3JvYmluaG9vZC5jb20vCi8vIEB2ZXJzaW9uICAgICAgMC4yCi8vIEBkZXNjcmlwdGlvbiAgR3JhYnMgYWxsIHRoZSBzdG9ja3MsIHNvcnRzIHRoZW0sIGFuZCBwcmludHMgdGhlbSB3LyB0b3RhbCBlcXVpdHkuIFVzZWQgdG8gdmVyaWZ5IG91ciBmaW5hbmNpYWwgdHJhY2tpbmcgZG9jLgovLyBAYXV0aG9yICAgICAgIGh0dHA6Ly9naXRodWIuY29tL0JyaWNlU2hhdHplcgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vcm9iaW5ob29kLmNvbS8KLy8gQGdyYW50ICAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwpsZXQgc3RvY2tzOwpsZXQgbG9hZGVkU2VjdGlvbnM7CmxldCBhbHBoYVNvcnQ7CmxldCBmaXJlZENvdW50ID0gMDsKCmxldCB0cmlnZ2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOwp0cmlnZ2VyLnNldEF0dHJpYnV0ZSgnc3R5bGUnLGAKICAgIGZvbnQtc2l6ZToycmVtOwogICAgcG9zaXRpb246YWJzb2x1dGU7CiAgICBib3R0b206MXJlbTsKICAgIGxlZnQ6MXJlbTsKICAgIHotaW5kZXg6NTAwMDsKICAgIGN1cnNvcjpwb2ludGVyOwoKICAgIGApOwp0cmlnZ2VyLmlubmVyVGV4dCA9ICfinI4nOwp0cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e2xvZ1N0b2Nrc1RvQ29uc29sZSgpfSk7Cgpjb25zdCBpbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbChpc0FwcFJlYWR5LCA1MDApOwoKZnVuY3Rpb24gbG9nU3RvY2tzVG9Db25zb2xlKCl7CiAgICBzdG9ja3MgPSBbXTsKICAgIGNvbnNvbGUubG9nKCdmaXJlZCcpCiAgICBsZXQgdGFyZ2V0OwogICAgbGV0IGFycjsKCiAgICAvLyBsb2FkZWRTZWN0aW9ucy5mb3JFYWNoKChzZWN0aW9uKT0+ewogICAgLy8gICAgIGlmKHNlY3Rpb24ucXVlcnlTZWxlY3RvcignaGVhZGVyJykuaW5uZXJUZXh0ID09PSAnU3RvY2tzJyl7IHRhcmdldCA9IHNlY3Rpb24gfQogICAgLy8gfSk7CgogICAgYXJyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdGVzdGlkPSJQb3NpdGlvbkNlbGwiXScpOwogICAgYXJyLmZvckVhY2goZWwgPT4gewogICAgICAgIGxldCBvYmogPSB7fQogICAgICAgIGNvbnN0IHZhbHVlcyA9IGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdicpWzBdLmlubmVyVGV4dC5zcGxpdCgvXG4vKTsKICAgICAgICBvYmoudGlja2VyID0gdmFsdWVzWzBdCiAgICAgICAgb2JqLmVxdWl0eSA9IHZhbHVlc1sxXTsKICAgICAgICBzdG9ja3MucHVzaChvYmopOwogICAgfSk7CgogICAgYWxwaGFTb3J0ID0gc3RvY2tzLnNvcnQoIChhLCBiKSA9PiB7CiAgICAgICAgdmFyIG5hbWVBPWEudGlja2VyLnRvTG93ZXJDYXNlKCksIG5hbWVCPWIudGlja2VyLnRvTG93ZXJDYXNlKCkKICAgICAgICBpZiAobmFtZUEgPCBuYW1lQil7cmV0dXJuIC0xfQogICAgICAgIGlmIChuYW1lQSA+IG5hbWVCKXtyZXR1cm4gMX0KICAgICAgICByZXR1cm4gMAogICAgfSk7CgogICAgY29uc29sZS5sb2coYWxwaGFTb3J0KTsKICAgIGlmIChmaXJlZENvdW50ICUgNSA9PT0gMCApewogICAgICAgIGNvbnNvbGUubG9nKCdNYWtlIHN1cmUgdG8gc2Nyb2xsIHRoZSBzaWRlYmFyIHRvIGJvdHRvbSB0byBsb2FkIGluIGFsbCcpCiAgICB9CiAgICBmaXJlZENvdW50Kys7Cn0KCmZ1bmN0aW9uIGlzQXBwUmVhZHkoKSB7CiAgICBsb2FkZWRTZWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWRlYmFyLWNvbnRlbnQtc3RpY2t5Jyk7CiAgICBpZiAobG9hZGVkU2VjdGlvbnMubGVuZ3RoICE9PSAwKXsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXBwJykuYXBwZW5kQ2hpbGQodHJpZ2dlcik7CiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7CiAgICB9Cn0KfSkoKTs="},{"name":"FoxNews adblock popup-killer","options":{"check_for_updates":false,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_prototypes":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.foxnews.com/"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"tab_types":null,"unwrap":null},"storage":{"ts":1664992257743,"data":{}},"enabled":true,"position":16,"uuid":"430a95ef-770b-4801-a780-5ea58d0702c8","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBGb3hOZXdzIGFkYmxvY2sgcG9wdXAta2lsbGVyCi8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly93d3cuZm94bmV3cy5jb20vCi8vIEB2ZXJzaW9uICAgICAgMC4xCi8vIEBkZXNjcmlwdGlvbiAgdHJ5IHRvIHRha2Ugb3ZlciB0aGUgd29ybGQhCi8vIEBhdXRob3IgICAgICAgaHR0cHM6Ly9icmljZXNoYXR6ZXIuY29tCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly93d3cuZm94bmV3cy5jb20vCi8vIEBpY29uICAgICAgICAgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zMi9mYXZpY29ucz9zej02NCZkb21haW49Zm94bmV3cy5jb20KLy8gQGdyYW50ICAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgbGV0IGRpZEl0ID0gZmFsc2U7CiAgICBjb25zdCBnZXRQb3B1cCA9ICgpID0+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYy1hYi1yb290Jyk7CgogICAgY29uc3QgcmVtb3ZlUG9wdXAgPSAoKSA9PiB7CiAgICAgICAgaWYgKGdldFBvcHVwKCkgJiYgIWRpZEl0KSB7CiAgICAgICAgICAgIGNvbnN0IGVsID0gZ2V0UG9wdXAoKQogICAgICAgICAgICBlbC5yZW1vdmUoKTsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnCiAgICAgICAgICAgIGRpZEl0ID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzZXRUaW1lb3V0KCAoKT0+cmVtb3ZlUG9wdXAoKSwgNzUwKQogICAgICAgIH0KICAgIH0KCiAgICByZW1vdmVQb3B1cCgpOwoKfSkoKTs="}]}